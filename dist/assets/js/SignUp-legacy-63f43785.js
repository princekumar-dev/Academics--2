System.register(["./index-legacy-539dcb9c.js","./react-vendor-legacy-4587369d.js"],function(e,a){"use strict";var r,n,t,l,i,o;return{setters:[e=>{r=e.b,n=e.j,t=e.a,l=e.g},e=>{i=e.r,o=e.u}],execute:function(){e("default",function(){const[e,s]=i.useState({name:"",email:"",password:"",confirmPassword:"",role:"",department:"",year:"",section:"",phoneNumber:""}),[c,d]=i.useState(!1),[u,m]=i.useState(""),[b,h]=i.useState(""),g=o(),p=e=>{const{name:r,value:n}=e.target;s(e=>{const t={...e,[r]:n};return"department"===r&&(a.includes(n)?t.section="A":a.includes(e.department)&&!a.includes(n)&&(t.section="")),t}),u&&m(""),b&&h("")};return r("div",{className:"min-h-screen flex items-center justify-center px-4 py-8 smooth-scroll mobile-smoothest-scroll no-mobile-anim",children:[n("style",{children:"\n        @keyframes waveButtonAnimation {\n          0%, 100% { background-position: 0% 50%; }\n          50% { background-position: 100% 50%; }\n        }\n        .login-wave-button {\n          background: linear-gradient(90deg, var(--theme-gold-600), var(--theme-gold-300), var(--theme-gold-600), var(--theme-gold-300));\n          background-size: 300% 100%;\n          animation: waveButtonAnimation 3s ease-in-out infinite;\n          transition: all 0.3s ease;\n        }\n        .login-wave-button:hover { animation-duration: 1.5s; }\n      "}),n("div",{className:"relative z-10",children:n("div",{className:"w-full max-w-md",children:r("div",{className:"backdrop-blur-md bg-white/20 border border-white/30 p-8 rounded-3xl shadow-2xl",children:[r("div",{className:"text-center mb-8",children:[n("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-6",children:n("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),n("h1",{className:"text-3xl sm:text-4xl font-black text-white mb-2",children:"Create Account"}),n("p",{className:"text-gray-100 text-lg",children:"Sign up for your MSEC Academics account"})]}),u&&n("div",{className:"mb-6",children:n("div",{className:"backdrop-blur-sm bg-red-500/20 border border-red-400/50 p-4 border-l-4 rounded-lg",children:n("p",{className:"text-red-100 text-sm font-medium",children:u})})}),b&&n("div",{className:"mb-6",children:n("div",{className:"backdrop-blur-sm bg-green-500/20 border border-green-400/50 p-4 border-l-4 rounded-lg",children:n("p",{className:"text-green-100 text-sm font-medium",children:b})})}),r("form",{onSubmit:async a=>{if(a.preventDefault(),d(!0),m(""),!(e.name&&e.email&&e.password&&e.confirmPassword&&e.role&&e.department)){const a=[];return e.name||a.push("Full Name"),e.email||a.push("Email"),e.password||a.push("Password"),e.confirmPassword||a.push("Confirm Password"),e.role||a.push("Role"),e.department||a.push("Department"),m(`Missing required fields: ${a.join(", ")}. Please fill in all fields to continue.`),void d(!1)}if("msec.edu.in"!==e.email.toLowerCase().split("@")[1])return m("‚ùå Invalid email domain. Only MSEC institutional emails are allowed. Example: john.doe@msec.edu.in"),void d(!1);if(!("staff"!==e.role||e.year&&e.section))return m("üìã Staff members must specify: "+(e.year?"":"Academic Year (I-IV)")+(e.year||e.section?"":" and ")+(e.section?"":"Section (A/B)")),void d(!1);if(e.password!==e.confirmPassword)return m("üîí Password mismatch. The passwords you entered don't match. Please verify and try again."),void d(!1);if(e.password.length<6)return m("üîí Password too weak. Please use at least 6 characters for security."),void d(!1);try{const a={name:e.name,email:e.email,password:e.password,role:e.role,department:e.department,phoneNumber:e.phoneNumber};"staff"===e.role&&(a.year=e.year,a.section=e.section);try{const e=await t.post("/api/users",a);if(!e||!e.success)return void m(e?.error||"‚ùå Failed to create account. Please check your information and try again.")}catch(r){return void(r&&409===r.status?m("üìß This email is already registered. Try logging in instead, or use a different email."):m(l(r,"Unable to create account. Please check your information and try again.")))}"staff"===e.role?(h("üìã Account request submitted! Waiting for HOD approval..."),setTimeout(()=>g("/login"),2e3)):(h("‚úÖ Account created successfully! Redirecting to sign in..."),setTimeout(()=>g("/login"),900))}catch(r){m(l(r,"Unable to create account. Please verify all information and try again."))}finally{d(!1)}},className:"space-y-6",children:[r("div",{children:[n("label",{className:"block text-sm font-bold text-white mb-3",children:"Full Name"}),n("input",{name:"name",value:e.name,onChange:p,className:"w-full px-4 py-4 border-0 rounded-2xl backdrop-blur-sm bg-white/20 border border-white/30 focus:ring-2 focus:ring-blue-300 focus:outline-none transition-all duration-200 text-white placeholder:text-gray-200",placeholder:"Enter your name",required:!0})]}),r("div",{children:[n("label",{className:"block text-sm font-bold text-white mb-3",children:"Email Address"}),n("input",{type:"email",name:"email",value:e.email,onChange:p,pattern:".*@msec\\.edu\\.in$",title:"Please use your MSEC email address (@msec.edu.in)",className:"w-full px-4 py-4 border-0 rounded-2xl backdrop-blur-sm bg-white/20 border border-white/30 focus:ring-2 focus:ring-blue-300 focus:outline-none transition-all duration-200 text-white placeholder:text-gray-200",placeholder:"Enter your email",required:!0}),n("p",{className:"mt-2 text-xs text-gray-100",children:"Use your official MSEC email address"})]}),r("div",{children:[n("label",{className:"block text-sm font-bold text-white mb-3",children:"Role"}),r("select",{name:"role",value:e.role,onChange:p,className:"w-full px-4 py-4 border-0 rounded-2xl backdrop-blur-sm bg-white/20 border border-white/30 focus:ring-2 focus:ring-blue-300 focus:outline-none transition-all duration-200 text-white",required:!0,children:[n("option",{value:"",className:"bg-gray-800",children:"Select Role"}),n("option",{value:"staff",className:"bg-gray-800",children:"Staff"}),n("option",{value:"hod",className:"bg-gray-800",children:"HOD"})]})]}),r("div",{children:[n("label",{className:"block text-sm font-bold text-white mb-3",children:"Department"}),r("select",{name:"department",value:e.department,onChange:p,className:"w-full px-4 py-4 border-0 rounded-2xl backdrop-blur-sm bg-white/20 border border-white/30 focus:ring-2 focus:ring-blue-300 focus:outline-none transition-all duration-200 text-white",required:!0,children:[n("option",{value:"",className:"bg-gray-800",children:"Select Department"}),n("option",{value:"CSE",className:"bg-gray-800",children:"Computer Science & Engineering"}),n("option",{value:"AI_DS",className:"bg-gray-800",children:"Artificial Intelligence & Datascience"}),n("option",{value:"ECE",className:"bg-gray-800",children:"Electronics & Communication Engineering"}),n("option",{value:"IT",className:"bg-gray-800",children:"Information Technology"}),n("option",{value:"HNS",className:"bg-gray-800",children:"Humanities & Science (H&S)"}),n("option",{value:"MECH",className:"bg-gray-800",children:"Mechanical Engineering"}),n("option",{value:"CIVIL",className:"bg-gray-800",children:"Civil Engineering"}),n("option",{value:"EEE",className:"bg-gray-800",children:"Electrical & Electronics Engineering"})]})]}),"staff"===e.role&&r("div",{className:"grid grid-cols-2 gap-4",children:[r("div",{children:[n("label",{className:"block text-sm font-bold text-white mb-3",children:"Year"}),r("select",{name:"year",value:e.year||"",onChange:p,className:"w-full px-4 py-4 border-0 rounded-2xl backdrop-blur-sm bg-white/20 border border-white/30 focus:ring-2 focus:ring-blue-300 focus:outline-none transition-all duration-200 text-white",required:!0,children:[n("option",{value:"",className:"bg-gray-800",children:"Select Year"}),n("option",{value:"I",className:"bg-gray-800",children:"I"}),n("option",{value:"II",className:"bg-gray-800",children:"II"}),n("option",{value:"III",className:"bg-gray-800",children:"III"}),n("option",{value:"IV",className:"bg-gray-800",children:"IV"})]})]}),r("div",{children:[n("label",{className:"block text-sm font-bold text-white mb-3",children:"Section"}),r("select",{name:"section",value:e.section||"",onChange:p,className:"w-full px-4 py-4 border-0 rounded-2xl backdrop-blur-sm bg-white/20 border border-white/30 focus:ring-2 focus:ring-blue-300 focus:outline-none transition-all duration-200 text-white "+(a.includes(e.department)?"opacity-50 cursor-not-allowed":""),required:!0,disabled:a.includes(e.department),children:[n("option",{value:"",className:"bg-gray-800",children:"Select Section"}),n("option",{value:"A",className:"bg-gray-800",children:"A"}),!a.includes(e.department)&&n("option",{value:"B",className:"bg-gray-800",children:"B"})]}),a.includes(e.department)&&r("p",{className:"mt-1 text-xs text-gray-100",children:[e.department," has a single Section A by default."]})]})]}),r("div",{children:[n("label",{className:"block text-sm font-bold text-white mb-3",children:"Phone Number"}),n("input",{type:"tel",name:"phoneNumber",value:e.phoneNumber,onChange:p,className:"w-full px-4 py-4 border-0 rounded-2xl backdrop-blur-sm bg-white/20 border border-white/30 focus:ring-2 focus:ring-blue-300 focus:outline-none transition-all duration-200 text-white placeholder:text-gray-200",placeholder:"Enter your number"})]}),r("div",{children:[n("label",{className:"block text-sm font-bold text-white mb-3",children:"Password"}),n("input",{type:"password",name:"password",value:e.password,onChange:p,className:"w-full px-4 py-4 border-0 rounded-2xl backdrop-blur-sm bg-white/20 border border-white/30 focus:ring-2 focus:ring-blue-300 focus:outline-none transition-all duration-200 text-white placeholder:text-gray-200",placeholder:"Create a password",required:!0})]}),r("div",{children:[n("label",{className:"block text-sm font-bold text-white mb-3",children:"Confirm Password"}),n("input",{type:"password",name:"confirmPassword",value:e.confirmPassword,onChange:p,className:"w-full px-4 py-4 border-0 rounded-2xl backdrop-blur-sm bg-white/20 border border-white/30 focus:ring-2 focus:ring-blue-300 focus:outline-none transition-all duration-200 text-white placeholder:text-gray-200",placeholder:"Repeat password",required:!0})]}),n("div",{className:"pt-4",children:n("button",{type:"submit",disabled:c,className:"glass-button w-full py-4 px-6 text-blue-600 text-lg font-bold rounded-2xl transition-all duration-300 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:n("span",{className:"truncate",children:c?"Creating account...":"Create Account"})})})]}),n("div",{className:"mt-8 text-center",children:r("p",{className:"text-gray-100 text-sm",children:["Already have an account? ",n("span",{className:"text-blue-600 font-semibold cursor-pointer hover:underline ml-1",onClick:()=>g("/login"),children:"Sign in"})]})})]})})})]})});const a=["MECH","CIVIL","EEE"]}}});
