import{r as i,a as Rt,R as mt,u as ut,b as Pe,c as qe,L as q,B as Lt,d as At,e as H,N as he}from"./react-vendor-ad4d5528.js";function sa(){import.meta.url,import("_").catch(()=>1);async function*a(){}}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const d of o)if(d.type==="childList")for(const w of d.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&n(w)}).observe(document,{childList:!0,subtree:!0});function s(o){const d={};return o.integrity&&(d.integrity=o.integrity),o.referrerPolicy&&(d.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?d.credentials="include":o.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function n(o){if(o.ep)return;o.ep=!0;const d=s(o);fetch(o.href,d)}})();var ht={exports:{}},je={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var It=i,Dt=Symbol.for("react.element"),Pt=Symbol.for("react.fragment"),Mt=Object.prototype.hasOwnProperty,jt=It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Tt={key:!0,ref:!0,__self:!0,__source:!0};function gt(a,r,s){var n,o={},d=null,w=null;s!==void 0&&(d=""+s),r.key!==void 0&&(d=""+r.key),r.ref!==void 0&&(w=r.ref);for(n in r)Mt.call(r,n)&&!Tt.hasOwnProperty(n)&&(o[n]=r[n]);if(a&&a.defaultProps)for(n in r=a.defaultProps,r)o[n]===void 0&&(o[n]=r[n]);return{$$typeof:Dt,type:a,key:d,ref:w,props:o,_owner:jt.current}}je.Fragment=Pt;je.jsx=gt;je.jsxs=gt;ht.exports=je;var Fe=ht.exports;const de=Fe.Fragment,e=Fe.jsx,t=Fe.jsxs;var Be={},Xe=Rt;Be.createRoot=Xe.createRoot,Be.hydrateRoot=Xe.hydrateRoot;const Ot="modulepreload",zt=function(a){return"/"+a},Qe={},J=function(r,s,n){if(!s||s.length===0)return r();const o=document.getElementsByTagName("link");return Promise.all(s.map(d=>{if(d=zt(d),d in Qe)return;Qe[d]=!0;const w=d.endsWith(".css"),b=w?'[rel="stylesheet"]':"";if(!!n)for(let y=o.length-1;y>=0;y--){const u=o[y];if(u.href===d&&(!w||u.rel==="stylesheet"))return}else if(document.querySelector('link[href="'.concat(d,'"]').concat(b)))return;const g=document.createElement("link");if(g.rel=w?"stylesheet":Ot,w||(g.as="script",g.crossOrigin=""),g.href=d,document.head.appendChild(g),w)return new Promise((y,u)=>{g.addEventListener("load",y),g.addEventListener("error",()=>u(new Error("Unable to preload CSS for ".concat(d))))})})).then(()=>r()).catch(d=>{const w=new Event("vite:preloadError",{cancelable:!0});if(w.payload=d,window.dispatchEvent(w),!w.defaultPrevented)throw d})};function Wt(){return e("div",{className:"min-h-screen flex items-center justify-center px-4 py-8",children:e("div",{className:"relative z-10 w-full max-w-md",children:t("div",{className:"backdrop-blur-md bg-white/20 border border-white/30 p-8 rounded-3xl shadow-2xl animate-pulse",children:[t("div",{className:"text-center mb-8",children:[e("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-white/30 rounded-full mb-6"}),e("div",{className:"h-9 bg-white/30 rounded-lg w-3/4 mx-auto mb-2"}),e("div",{className:"h-6 bg-white/20 rounded-lg w-2/3 mx-auto"})]}),t("div",{className:"space-y-6",children:[t("div",{children:[e("div",{className:"h-4 bg-white/30 rounded w-24 mb-3"}),e("div",{className:"h-14 bg-white/20 rounded-2xl"})]}),t("div",{children:[e("div",{className:"h-4 bg-white/30 rounded w-20 mb-3"}),e("div",{className:"h-14 bg-white/20 rounded-2xl"})]}),e("div",{className:"text-center",children:e("div",{className:"h-4 bg-white/20 rounded w-32 mx-auto"})}),e("div",{className:"pt-4",children:e("div",{className:"h-14 bg-white/30 rounded-2xl"})})]}),e("div",{className:"mt-8 text-center",children:e("div",{className:"h-4 bg-white/20 rounded w-48 mx-auto"})})]})})})}function $t(){return e("div",{className:"min-h-screen flex items-center justify-center px-4 py-8",children:e("div",{className:"relative z-10 w-full max-w-md",children:t("div",{className:"backdrop-blur-md bg-white/20 border border-white/30 p-8 rounded-3xl shadow-2xl animate-pulse",children:[t("div",{className:"text-center mb-8",children:[e("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-white/30 rounded-full mb-6"}),e("div",{className:"h-9 bg-white/30 rounded-lg w-3/4 mx-auto mb-2"}),e("div",{className:"h-6 bg-white/20 rounded-lg w-2/3 mx-auto"})]}),t("div",{className:"space-y-6",children:[[1,2].map(a=>t("div",{children:[e("div",{className:"h-4 bg-white/30 rounded w-24 mb-3"}),e("div",{className:"h-14 bg-white/20 rounded-2xl"})]},a)),t("div",{className:"grid grid-cols-2 gap-4",children:[t("div",{children:[e("div",{className:"h-4 bg-white/30 rounded w-16 mb-3"}),e("div",{className:"h-14 bg-white/20 rounded-2xl"})]}),t("div",{children:[e("div",{className:"h-4 bg-white/30 rounded w-20 mb-3"}),e("div",{className:"h-14 bg-white/20 rounded-2xl"})]})]}),t("div",{className:"grid grid-cols-2 gap-4",children:[t("div",{children:[e("div",{className:"h-4 bg-white/30 rounded w-16 mb-3"}),e("div",{className:"h-14 bg-white/20 rounded-2xl"})]}),t("div",{children:[e("div",{className:"h-4 bg-white/30 rounded w-16 mb-3"}),e("div",{className:"h-14 bg-white/20 rounded-2xl"})]})]}),[1,2].map(a=>t("div",{children:[e("div",{className:"h-4 bg-white/30 rounded w-28 mb-3"}),e("div",{className:"h-14 bg-white/20 rounded-2xl"})]},"pass-".concat(a))),e("div",{className:"pt-4",children:e("div",{className:"h-14 bg-white/30 rounded-2xl"})})]}),e("div",{className:"mt-8 text-center",children:e("div",{className:"h-4 bg-white/20 rounded w-48 mx-auto"})})]})})})}function Ae(){return t("div",{className:"p-4 md:p-6 space-y-6 animate-pulse",children:[t("div",{children:[e("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-2"}),e("div",{className:"h-4 bg-gray-100 rounded w-1/2"})]}),e("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[1,2,3,4].map(a=>t("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[e("div",{className:"h-4 bg-gray-200 rounded w-2/3 mb-3"}),e("div",{className:"h-8 bg-gray-300 rounded w-1/3 mb-2"}),e("div",{className:"h-3 bg-gray-100 rounded w-1/2"})]},a))}),t("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[e("div",{className:"h-6 bg-gray-200 rounded w-1/4 mb-4"}),e("div",{className:"space-y-3",children:[1,2,3].map(a=>t("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e("div",{className:"w-10 h-10 bg-gray-200 rounded-full"}),t("div",{className:"flex-1",children:[e("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),e("div",{className:"h-3 bg-gray-100 rounded w-1/2"})]})]},a))})]})]})}function et(){return t("div",{className:"p-4 md:p-6 space-y-4 animate-pulse",children:[t("div",{className:"flex flex-col sm:flex-row justify-between gap-4 mb-6",children:[t("div",{children:[e("div",{className:"h-8 bg-gray-200 rounded w-48 mb-2"}),e("div",{className:"h-4 bg-gray-100 rounded w-64"})]}),t("div",{className:"flex gap-2",children:[e("div",{className:"h-10 bg-gray-200 rounded w-32"}),e("div",{className:"h-10 bg-gray-200 rounded w-24"})]})]}),t("div",{className:"flex gap-2 mb-4",children:[e("div",{className:"flex-1 h-12 bg-gray-200 rounded-xl"}),e("div",{className:"h-12 bg-gray-200 rounded-xl w-32"})]}),e("div",{className:"space-y-4",children:[1,2,3,4,5].map(a=>t("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[t("div",{className:"flex justify-between items-start mb-4",children:[t("div",{className:"flex-1",children:[e("div",{className:"h-6 bg-gray-300 rounded w-2/3 mb-2"}),e("div",{className:"h-4 bg-gray-100 rounded w-1/3"})]}),e("div",{className:"h-8 bg-gray-200 rounded-full w-24"})]}),e("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[1,2,3,4].map(r=>t("div",{children:[e("div",{className:"h-3 bg-gray-100 rounded w-16 mb-2"}),e("div",{className:"h-4 bg-gray-200 rounded w-20"})]},r))})]},a))})]})}function Bt(){return t("div",{className:"p-4 md:p-6 animate-pulse",children:[e("div",{className:"h-10 bg-gray-200 rounded w-32 mb-6"}),t("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[t("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 border-b border-gray-100",children:[t("div",{className:"flex justify-between items-start mb-4",children:[t("div",{className:"flex-1",children:[e("div",{className:"h-8 bg-gray-300 rounded w-2/3 mb-3"}),e("div",{className:"h-4 bg-gray-200 rounded w-1/3"})]}),e("div",{className:"h-10 bg-gray-300 rounded-full w-32"})]}),e("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[1,2,3,4].map(a=>t("div",{children:[e("div",{className:"h-3 bg-gray-200 rounded w-16 mb-2"}),e("div",{className:"h-5 bg-gray-300 rounded w-24"})]},a))})]}),t("div",{className:"p-6 space-y-6",children:[t("div",{children:[e("div",{className:"h-6 bg-gray-200 rounded w-32 mb-4"}),e("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(a=>t("div",{children:[e("div",{className:"h-3 bg-gray-100 rounded w-20 mb-2"}),e("div",{className:"h-5 bg-gray-200 rounded w-32"})]},a))})]}),t("div",{children:[e("div",{className:"h-6 bg-gray-200 rounded w-24 mb-4"}),t("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[e("div",{className:"bg-gray-50 p-4 border-b",children:t("div",{className:"flex gap-4",children:[e("div",{className:"h-4 bg-gray-300 rounded w-32"}),e("div",{className:"h-4 bg-gray-300 rounded w-24"}),e("div",{className:"h-4 bg-gray-300 rounded w-24"})]})}),[1,2,3,4,5].map(a=>e("div",{className:"p-4 border-b last:border-b-0",children:t("div",{className:"flex gap-4",children:[e("div",{className:"h-4 bg-gray-200 rounded w-32"}),e("div",{className:"h-4 bg-gray-200 rounded w-24"}),e("div",{className:"h-4 bg-gray-200 rounded w-24"})]})},a))]})]}),t("div",{className:"flex gap-3 pt-4",children:[e("div",{className:"h-12 bg-gray-200 rounded-xl w-32"}),e("div",{className:"h-12 bg-gray-200 rounded-xl w-32"})]})]})]})]})}function tt(){return t("div",{className:"p-4 md:p-6 animate-pulse",children:[t("div",{className:"mb-6",children:[e("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-2"}),e("div",{className:"h-4 bg-gray-100 rounded w-1/2"})]}),e("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100 max-w-2xl",children:t("div",{className:"space-y-6",children:[[1,2,3,4].map(a=>t("div",{children:[e("div",{className:"h-4 bg-gray-200 rounded w-32 mb-3"}),e("div",{className:"h-12 bg-gray-100 rounded-xl"})]},a)),e("div",{className:"border-2 border-dashed border-gray-200 rounded-xl p-8",children:t("div",{className:"text-center",children:[e("div",{className:"w-16 h-16 bg-gray-200 rounded-full mx-auto mb-4"}),e("div",{className:"h-5 bg-gray-200 rounded w-48 mx-auto mb-2"}),e("div",{className:"h-4 bg-gray-100 rounded w-64 mx-auto"})]})}),t("div",{className:"flex gap-3 pt-4",children:[e("div",{className:"h-12 bg-gray-300 rounded-xl flex-1"}),e("div",{className:"h-12 bg-gray-200 rounded-xl w-32"})]})]})})]})}function Ut(){return e("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:e("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8 animate-pulse",children:t("div",{className:"max-w-6xl mx-auto",children:[t("div",{className:"text-center mb-8",children:[e("div",{className:"h-12 bg-gray-300 rounded w-96 mx-auto mb-4"}),e("div",{className:"h-5 bg-gray-200 rounded w-[500px] mx-auto mb-2"}),e("div",{className:"h-5 bg-gray-200 rounded w-[450px] mx-auto"})]}),t("div",{className:"flex gap-2 mb-6",children:[e("div",{className:"h-10 bg-gray-300 rounded-lg w-32"}),e("div",{className:"h-10 bg-gray-200 rounded-lg w-32"})]}),t("div",{className:"bg-white/60 backdrop-blur-sm p-4 rounded-xl mb-6 flex flex-wrap items-center justify-between gap-4",children:[t("div",{className:"flex gap-2",children:[e("div",{className:"h-10 bg-gray-300 rounded-lg w-28"}),e("div",{className:"h-10 bg-gray-200 rounded-lg w-28"})]}),t("div",{className:"flex gap-2",children:[e("div",{className:"h-10 bg-blue-200 rounded-lg w-36"}),e("div",{className:"h-10 bg-green-200 rounded-lg w-32"})]})]}),e("div",{className:"flex flex-wrap gap-2 mb-6",children:[1,2,3,4,5].map(a=>e("div",{className:"h-10 bg-gray-200 rounded-lg w-24"},a))}),e("div",{className:"space-y-4",children:[1,2,3].map(a=>t("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[t("div",{className:"p-6 pb-4",children:[t("div",{className:"flex items-start justify-between mb-3",children:[t("div",{className:"flex-1",children:[e("div",{className:"h-6 bg-gray-300 rounded w-48 mb-2"}),e("div",{className:"h-4 bg-gray-200 rounded w-64"})]}),e("div",{className:"h-8 bg-yellow-100 rounded-full w-32"})]}),e("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4 mt-4",children:[1,2,3,4,5].map(r=>t("div",{children:[e("div",{className:"h-3 bg-gray-200 rounded w-16 mb-2"}),e("div",{className:"h-5 bg-gray-300 rounded w-20"})]},r))}),a===2&&t("div",{className:"mt-4 p-3 bg-orange-50 rounded-lg border border-orange-200",children:[e("div",{className:"h-4 bg-orange-200 rounded w-32 mb-2"}),e("div",{className:"h-4 bg-orange-100 rounded w-full"})]})]}),e("div",{className:"border-t border-gray-100"}),e("div",{className:"p-6 pt-4 bg-gray-50",children:t("div",{className:"flex flex-wrap gap-2",children:[e("div",{className:"h-10 bg-blue-200 rounded-lg w-32"}),e("div",{className:"h-10 bg-green-200 rounded-lg w-28"}),e("div",{className:"h-10 bg-gray-200 rounded-lg w-24"})]})})]},a))})]})})})}function rt(){return e("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:e("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8 animate-pulse",children:t("div",{className:"max-w-6xl mx-auto",children:[t("div",{className:"text-center mb-8",children:[e("div",{className:"h-12 bg-gray-300 rounded w-96 mx-auto mb-4"}),e("div",{className:"h-5 bg-gray-200 rounded w-[450px] mx-auto"})]}),t("div",{className:"bg-white/60 backdrop-blur-sm p-6 md:p-8 rounded-3xl shadow-sm",children:[t("div",{className:"flex flex-wrap items-center gap-3 mb-6",children:[e("div",{className:"flex gap-2 flex-1",children:[1,2,3].map(a=>e("div",{className:"h-10 bg-gray-200 rounded-lg w-24"},a))}),t("div",{className:"flex gap-2",children:[e("div",{className:"h-10 bg-green-200 rounded-lg w-28"}),e("div",{className:"h-10 bg-orange-200 rounded-lg w-32"}),e("div",{className:"h-10 bg-red-200 rounded-lg w-28"})]})]}),e("div",{className:"space-y-4",children:[1,2,3].map(a=>t("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[t("div",{className:"p-6 pb-4",children:[t("div",{className:"flex items-start justify-between mb-3 gap-2",children:[t("div",{className:"flex-1",children:[e("div",{className:"h-6 bg-gray-300 rounded w-48 mb-2"}),t("div",{className:"flex items-center gap-2",children:[e("div",{className:"h-4 bg-gray-200 rounded w-40"}),e("div",{className:"h-5 bg-blue-100 rounded-full w-16"})]})]}),e("div",{className:"h-8 bg-yellow-100 rounded-full w-28"})]}),e("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[1,2,3,4].map(r=>t("div",{children:[e("div",{className:"h-3 bg-gray-200 rounded w-16 mb-2"}),e("div",{className:"h-5 bg-gray-300 rounded w-24"})]},r))})]}),e("div",{className:"border-t border-gray-100"}),e("div",{className:"p-6 pt-4 bg-gray-50",children:t("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[e("div",{className:"h-10 bg-green-200 rounded-lg"}),e("div",{className:"h-10 bg-red-200 rounded-lg"}),e("div",{className:"h-10 bg-yellow-200 rounded-lg"}),e("div",{className:"h-10 bg-gray-200 rounded-lg"})]})})]},a))})]})]})})})}function qt(){return e("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:e("div",{className:"container mx-auto px-4 py-6 md:py-8 animate-pulse",children:t("div",{className:"max-w-7xl mx-auto",children:[e("div",{className:"mb-6 md:mb-8",children:e("div",{className:"bg-white/60 backdrop-blur-sm p-6 rounded-3xl shadow-sm",children:t("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[t("div",{className:"flex-1",children:[e("div",{className:"h-10 bg-gray-300 rounded w-80 mb-2"}),e("div",{className:"h-5 bg-gray-200 rounded w-96"})]}),e("div",{className:"grid grid-cols-2 sm:flex gap-3",children:[1,2,3,4].map(a=>t("div",{className:"bg-white/80 px-3 py-2 rounded-xl",children:[e("div",{className:"h-3 bg-gray-200 rounded w-16 mb-2"}),e("div",{className:"h-7 bg-gray-300 rounded w-12"})]},a))})]})})}),t("div",{className:"bg-white/60 backdrop-blur-sm p-6 md:p-8 rounded-3xl shadow-sm space-y-8",children:[e("div",{children:e("div",{className:"relative max-w-2xl",children:e("div",{className:"h-12 bg-gray-200 rounded-xl"})})}),t("div",{children:[e("div",{className:"h-6 bg-gray-300 rounded w-48 mb-4"}),e("div",{className:"flex flex-wrap gap-2",children:[1,2,3,4].map(a=>e("div",{className:"h-10 bg-gray-200 rounded-lg w-32"},a))})]}),t("div",{children:[e("div",{className:"h-6 bg-gray-300 rounded w-56 mb-4"}),e("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(a=>e("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:t("div",{className:"p-4",children:[t("div",{className:"flex items-center justify-between mb-2",children:[e("div",{className:"h-4 bg-gray-300 rounded w-32"}),e("div",{className:"h-4 w-4 bg-gray-200 rounded"})]}),e("div",{className:"h-8 bg-gray-300 rounded w-16 mb-2"}),e("div",{className:"h-4 bg-gray-200 rounded w-28"})]})},a))})]}),e("div",{className:"space-y-4",children:[1,2,3].map(a=>t("div",{className:"bg-white/80 rounded-xl p-6",children:[t("div",{className:"flex items-start justify-between mb-3",children:[t("div",{className:"flex-1",children:[e("div",{className:"h-6 bg-gray-300 rounded w-48 mb-2"}),e("div",{className:"h-4 bg-gray-200 rounded w-64"})]}),e("div",{className:"h-8 bg-gray-200 rounded-full w-24"})]}),e("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4 mt-4",children:[1,2,3,4,5].map(r=>t("div",{children:[e("div",{className:"h-3 bg-gray-200 rounded w-16 mb-2"}),e("div",{className:"h-5 bg-gray-300 rounded w-20"})]},r))}),t("div",{className:"flex gap-2 mt-4",children:[e("div",{className:"h-10 bg-gray-200 rounded-lg w-24"}),e("div",{className:"h-10 bg-gray-200 rounded-lg w-32"})]})]},a))})]})]})})})}function Ft(){return t("div",{className:"p-4 md:p-6 animate-pulse",children:[t("div",{className:"flex justify-between items-center mb-6",children:[t("div",{children:[e("div",{className:"h-8 bg-gray-200 rounded w-48 mb-2"}),e("div",{className:"h-4 bg-gray-100 rounded w-64"})]}),t("div",{className:"flex gap-2",children:[e("div",{className:"h-10 bg-gray-200 rounded w-32"}),e("div",{className:"h-10 bg-gray-200 rounded w-24"})]})]}),e("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 mb-6",children:e("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[1,2,3].map(a=>t("div",{children:[e("div",{className:"h-4 bg-gray-200 rounded w-24 mb-2"}),e("div",{className:"h-10 bg-gray-100 rounded-xl"})]},a))})}),t("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[e("div",{className:"bg-gray-50 border-b border-gray-200",children:e("div",{className:"grid grid-cols-6 gap-4 p-4",children:[1,2,3,4,5,6].map(a=>e("div",{className:"h-4 bg-gray-300 rounded"},a))})}),[1,2,3,4,5,6,7].map(a=>e("div",{className:"border-b border-gray-100 last:border-b-0",children:e("div",{className:"grid grid-cols-6 gap-4 p-4",children:[1,2,3,4,5,6].map(r=>e("div",{className:"h-4 bg-gray-200 rounded"},r))})},a))]}),t("div",{className:"flex justify-between items-center mt-6",children:[e("div",{className:"h-4 bg-gray-200 rounded w-32"}),e("div",{className:"flex gap-2",children:[1,2,3].map(a=>e("div",{className:"h-10 w-10 bg-gray-200 rounded"},a))})]})]})}function Ht(){return e("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:e("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8 animate-pulse",children:t("div",{className:"max-w-6xl mx-auto",children:[t("div",{className:"text-center mb-12",children:[e("div",{className:"w-20 h-20 bg-blue-100 rounded-full mx-auto mb-6"}),e("div",{className:"h-12 bg-gray-300 rounded w-96 mx-auto mb-4"}),e("div",{className:"h-5 bg-gray-200 rounded w-64 mx-auto mb-2"}),e("div",{className:"h-5 bg-gray-200 rounded w-80 mx-auto"})]}),e("div",{className:"space-y-8",children:[1,2,3,4].map(a=>t("div",{className:"bg-white/60 backdrop-blur-sm rounded-3xl shadow-2xl overflow-hidden",children:[e("div",{className:"bg-gradient-to-r ".concat(a%4===0?"from-blue-600 to-blue-700":a%4===1?"from-green-600 to-green-700":a%4===2?"from-purple-600 to-purple-700":"from-orange-600 to-orange-700"," px-6 py-6"),children:t("div",{className:"flex items-center gap-4",children:[e("div",{className:"w-8 h-8 bg-white/30 rounded"}),e("div",{className:"h-7 bg-white/30 rounded w-48"})]})}),e("div",{className:"divide-y divide-gray-200",children:[1,2,3].map(r=>t("div",{className:"p-6",children:[t("div",{className:"flex items-center justify-between mb-2",children:[e("div",{className:"h-5 bg-gray-300 rounded w-3/4"}),e("div",{className:"w-5 h-5 bg-gray-200 rounded"})]}),e("div",{className:"h-4 bg-gray-100 rounded w-full mt-3"}),e("div",{className:"h-4 bg-gray-100 rounded w-5/6 mt-2"})]},r))})]},a))})]})})})}function Vt(){return e("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:e("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8 animate-pulse",children:t("div",{className:"max-w-6xl mx-auto",children:[t("div",{className:"text-center mb-12",children:[e("div",{className:"w-20 h-20 bg-blue-100 rounded-full mx-auto mb-6"}),e("div",{className:"h-12 bg-gray-300 rounded w-80 mx-auto mb-4"}),e("div",{className:"h-5 bg-gray-200 rounded w-64 mx-auto"})]}),e("div",{className:"bg-white/60 backdrop-blur-sm p-8 rounded-3xl shadow-2xl space-y-8",children:[{color:"blue"},{color:"green"},{color:"purple"},{color:"orange"},{color:"red"},{color:"indigo"}].map((a,r)=>t("div",{className:"border-l-4 border-".concat(a.color,"-500 pl-6"),children:[e("div",{className:"h-7 bg-gray-300 rounded w-64 mb-4"}),r===1||r===2?e("div",{className:"space-y-4",children:t("div",{className:"bg-".concat(a.color,"-50 p-5 rounded-xl"),children:[e("div",{className:"h-5 bg-gray-300 rounded w-48 mb-3"}),e("div",{className:"space-y-2",children:[1,2,3,4].map(s=>e("div",{className:"h-4 bg-gray-200 rounded w-full"},s))})]})}):t("div",{className:"space-y-3",children:[e("div",{className:"h-4 bg-gray-200 rounded w-full"}),e("div",{className:"h-4 bg-gray-200 rounded w-11/12"}),e("div",{className:"h-4 bg-gray-200 rounded w-5/6"})]})]},r))})]})})})}function Jt(){return e("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:e("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8 animate-pulse",children:t("div",{className:"max-w-6xl mx-auto",children:[t("div",{className:"text-center mb-12",children:[e("div",{className:"w-20 h-20 bg-indigo-100 rounded-full mx-auto mb-6"}),e("div",{className:"h-12 bg-gray-300 rounded w-96 mx-auto mb-4"}),e("div",{className:"h-5 bg-gray-200 rounded w-64 mx-auto mb-2"}),e("div",{className:"h-5 bg-gray-200 rounded w-48 mx-auto"})]}),e("div",{className:"bg-white/60 backdrop-blur-sm p-8 rounded-3xl shadow-2xl space-y-8",children:[{color:"indigo",hasHighlight:!0},{color:"blue",hasCards:!0},{color:"green",hasBoxes:!0},{color:"purple",hasBoxes:!0},{color:"red"},{color:"orange"}].map((a,r)=>t("div",{className:"border-l-4 border-".concat(a.color,"-500 pl-6 ").concat(a.hasHighlight?"bg-indigo-50 rounded-r-lg py-4 pr-6":""),children:[e("div",{className:"h-7 bg-gray-300 rounded w-80 mb-4"}),a.hasCards?e("div",{className:"space-y-3",children:[1,2,3,4].map(s=>t("div",{className:"flex items-start gap-3 bg-".concat(a.color,"-50 p-4 rounded-lg border-l-4 border-").concat(a.color,"-400"),children:[e("div",{className:"w-6 h-6 bg-gray-300 rounded"}),e("div",{className:"flex-1 h-4 bg-gray-300 rounded"})]},s))}):a.hasBoxes?t("div",{className:"bg-".concat(a.color,"-50 border border-").concat(a.color,"-200 rounded-xl p-5"),children:[e("div",{className:"h-6 bg-gray-300 rounded w-48 mb-4"}),e("div",{className:"space-y-3",children:[1,2,3,4].map(s=>e("div",{className:"bg-white p-3 rounded-lg",children:e("div",{className:"h-4 bg-gray-200 rounded w-full"})},s))})]}):t("div",{className:"space-y-3",children:[e("div",{className:"h-4 bg-gray-200 rounded w-full"}),e("div",{className:"h-4 bg-gray-200 rounded w-11/12"}),e("div",{className:"h-4 bg-gray-200 rounded w-10/12"})]})]},r))})]})})})}function Yt(){return e("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:e("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8 animate-pulse",children:t("div",{className:"max-w-6xl mx-auto",children:[t("div",{className:"text-center mb-12",children:[e("div",{className:"h-12 bg-gray-300 rounded w-64 mx-auto mb-4"}),e("div",{className:"h-5 bg-gray-200 rounded w-96 mx-auto mb-2"}),e("div",{className:"h-5 bg-gray-200 rounded w-80 mx-auto"})]}),t("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t("div",{className:"bg-white/60 backdrop-blur-sm p-8 rounded-3xl shadow-2xl",children:[t("div",{className:"text-center",children:[e("div",{className:"w-20 h-20 bg-gray-200 rounded-full mx-auto mb-4"}),e("div",{className:"h-7 bg-gray-300 rounded w-48 mx-auto mb-4"}),t("div",{className:"space-y-2 mb-6",children:[e("div",{className:"h-4 bg-gray-200 rounded w-full"}),e("div",{className:"h-4 bg-gray-200 rounded w-5/6 mx-auto"}),e("div",{className:"h-4 bg-gray-200 rounded w-4/5 mx-auto"})]})]}),e("div",{className:"flex justify-center gap-4 mt-6",children:[1,2,3].map(a=>e("div",{className:"w-12 h-12 bg-gray-200 rounded-lg"},a))})]}),t("div",{className:"bg-white/60 backdrop-blur-sm p-8 rounded-3xl shadow-2xl",children:[t("div",{className:"text-center mb-6",children:[e("div",{className:"w-16 h-16 bg-green-100 rounded-full mx-auto mb-4"}),e("div",{className:"h-7 bg-gray-300 rounded w-32 mx-auto mb-6"})]}),e("div",{className:"space-y-4",children:[1,2,3].map(a=>t("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gray-100",children:[e("div",{className:"w-5 h-5 bg-gray-300 rounded"}),e("div",{className:"h-4 bg-gray-300 rounded w-32"})]},a))})]}),t("div",{className:"bg-white/60 backdrop-blur-sm p-8 rounded-3xl shadow-2xl",children:[t("div",{className:"text-center mb-6",children:[e("div",{className:"w-16 h-16 bg-purple-100 rounded-full mx-auto mb-4"}),e("div",{className:"h-7 bg-gray-300 rounded w-24 mx-auto mb-6"})]}),e("div",{className:"space-y-4",children:[1,2,3,4].map(a=>t("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gray-100",children:[e("div",{className:"w-5 h-5 bg-gray-300 rounded"}),e("div",{className:"h-4 bg-gray-300 rounded w-32"})]},a))})]})]})]})})})}function Gt(){return e("div",{className:"flex items-center justify-center min-h-[60vh] p-4 animate-pulse",children:t("div",{className:"text-center",children:[e("div",{className:"w-32 h-32 bg-gray-200 rounded-full mx-auto mb-6"}),e("div",{className:"h-10 bg-gray-300 rounded w-64 mx-auto mb-4"}),e("div",{className:"h-4 bg-gray-200 rounded w-96 mx-auto mb-8"}),e("div",{className:"h-12 bg-gray-300 rounded-xl w-48 mx-auto"})]})})}class Kt extends mt.Component{constructor(r){super(r),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(r){return{hasError:!0}}componentDidCatch(r,s){console.error("Error caught by boundary:",r,s),this.setState({error:r,errorInfo:s})}render(){return this.state.hasError?e("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:t("div",{className:"max-w-md mx-auto text-center",children:[e("div",{className:"mb-4",children:e("svg",{className:"mx-auto h-12 w-12 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Oops! Something went wrong"}),e("p",{className:"text-gray-600 mb-4",children:"We're sorry, but there was an error loading the application."}),e("button",{onClick:()=>window.location.reload(),className:"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded",children:"Reload Page"}),!1]})}):this.props.children}}const Ie=new Map,De=new Map;function Zt(a){if(!a||a.startsWith("http://")||a.startsWith("https://"))return a;const r="https://academics-5bf1.onrender.com";return"".concat(r).concat(a)}async function _e(a,r,s={}){const{cache:n=!0,ttl:o=30*1e3,timeout:d=8e3,dedupe:w=!0,retry:b=0,retryDelay:D=500,body:g,headers:y,raw:u=!1,responseType:S="json"}=s,j=g&&!(g instanceof FormData)&&!u?JSON.stringify(g):g instanceof FormData?"[FormData]":"",C="".concat(a,":").concat(r,":").concat(j);if(n&&De.has(C)){const M=De.get(C);if(Date.now()-M.ts<(M.ttl||o))return M.data;De.delete(C)}if(w&&Ie.has(C))return Ie.get(C);const oe=(async()=>{let M=0;for(;;){const V=new AbortController,G=setTimeout(()=>V.abort(),d);try{let l;const v={};g&&!(g instanceof FormData)&&!u?(l=JSON.stringify(g),v["Content-Type"]="application/json"):l=g;const m=Object.assign({},y||{},v),p=await fetch(Zt(r),{method:a,headers:m,body:l,signal:V.signal});if(clearTimeout(G),!p.ok){const R=await p.json().catch(()=>null),P=new Error("HTTP ".concat(p.status));throw P.status=p.status,P.data=R,P}let A=null;return S==="json"?A=await p.json().catch(()=>null):S==="blob"?A=await p.blob():S==="arrayBuffer"?A=await p.arrayBuffer():S==="text"&&(A=await p.text()),n&&S==="json"&&De.set(C,{ts:Date.now(),data:A,ttl:o}),A}catch(l){M+=1;const v=l&&(l.name==="AbortError"||l.message&&l.message.includes("aborted"));if(M>b||v&&M>b)throw l;const m=Math.max(0,D*Math.pow(2,M-1));await new Promise(p=>setTimeout(p,m))}finally{Ie.delete(C)}}})();return Ie.set(C,oe),oe}const W={get:(a,r)=>_e("GET",a,r),post:(a,r,s={})=>_e("POST",a,Object.assign({},s,{body:r})),put:(a,r,s={})=>_e("PUT",a,Object.assign({},s,{body:r})),patch:(a,r,s={})=>_e("PATCH",a,Object.assign({},s,{body:r})),del:(a,r)=>_e("DELETE",a,r)};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Qt=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,s,n)=>n?n.toUpperCase():s.toLowerCase()),at=a=>{const r=Qt(a);return r.charAt(0).toUpperCase()+r.slice(1)},pt=(...a)=>a.filter((r,s,n)=>!!r&&r.trim()!==""&&n.indexOf(r)===s).join(" ").trim(),er=a=>{for(const r in a)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tr={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=i.forwardRef(({color:a="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:n,className:o="",children:d,iconNode:w,...b},D)=>i.createElement("svg",{ref:D,...tr,width:r,height:r,stroke:a,strokeWidth:n?Number(s)*24/Number(r):s,className:pt("lucide",o),...!d&&!er(b)&&{"aria-hidden":"true"},...b},[...w.map(([g,y])=>i.createElement(g,y)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=(a,r)=>{const s=i.forwardRef(({className:n,...o},d)=>i.createElement(rr,{ref:d,iconNode:r,className:pt("lucide-".concat(Xt(at(a))),"lucide-".concat(a),n),...o}));return s.displayName=at(a),s};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Ue=ge("bell",ar);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],or=ge("circle-alert",sr);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ke=ge("circle-check-big",nr);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],lr=ge("circle-x",ir);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ze=ge("clock",cr);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],mr=ge("info",dr);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],hr=ge("triangle-alert",ur);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],We=ge("user-check",gr);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],st=ge("user-x",pr);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Me=ge("x",fr);function br({type:a="info",title:r,message:s,onClose:n,autoClose:o=!0,duration:d=5e3,position:w="top-right"}){i.useEffect(()=>{if(o&&n){const C=setTimeout(n,d);return()=>clearTimeout(C)}},[o,d,n]);const b=C=>{C.preventDefault(),C.stopPropagation(),n&&n()},D={success:e(ke,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-500"}),error:e(or,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-500"}),warning:e(hr,{className:"w-5 h-5 sm:w-6 sm:h-6 text-amber-500"}),info:e(mr,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-500"})},g={success:"bg-gradient-to-br from-green-50 to-emerald-50",error:"bg-gradient-to-br from-red-50 to-rose-50",warning:"bg-gradient-to-br from-amber-50 to-yellow-50",info:"bg-gradient-to-br from-blue-50 to-cyan-50"},y={success:"border-green-300",error:"border-red-300",warning:"border-amber-300",info:"border-blue-300"},u={success:"bg-green-100",error:"bg-red-100",warning:"bg-amber-100",info:"bg-blue-100"},S={success:"from-green-500 to-emerald-500",error:"from-red-500 to-rose-500",warning:"from-amber-500 to-yellow-500",info:"from-blue-500 to-cyan-500"},j={"top-right":"notification-container notification-top-right","top-left":"notification-container notification-top-left","top-center":"notification-container notification-top-center","bottom-right":"notification-container notification-bottom-right","bottom-left":"notification-container notification-bottom-left","bottom-center":"notification-container notification-bottom-center",center:"notification-container notification-center"};return e("div",{className:"".concat(j[w]),children:t("div",{role:"alert",className:"\n          notification-card notification-interactive\n          relative w-11/12 sm:min-w-[340px] sm:max-w-md \n          rounded-lg sm:rounded-2xl\n          ".concat(g[a],"\n          border-2 ").concat(y[a],"\n          p-2.5 sm:p-5\n          shadow-xl\n          backdrop-blur-md\n          transform-gpu\n        "),style:{boxSizing:"border-box"},children:[n&&e("button",{type:"button",onClick:b,onTouchEnd:b,className:"absolute top-2 right-2 sm:top-3 sm:right-3 z-10\r\n                     p-1 sm:p-1.5 rounded-lg\r\n                     bg-white/90 hover:bg-white active:bg-gray-100\r\n                     border border-gray-300\r\n                     transition-all duration-200 \r\n                     hover:scale-110 active:scale-95\r\n                     shadow-md hover:shadow-lg\r\n                     cursor-pointer\r\n                     touch-manipulation","aria-label":"Close alert",style:{touchAction:"manipulation",WebkitTapHighlightColor:"transparent",minWidth:"32px",minHeight:"32px",display:"flex",alignItems:"center",justifyContent:"center"},children:e(Me,{className:"w-4 h-4 sm:w-4 sm:h-4 text-gray-700 stroke-2"})}),t("div",{className:"flex items-start gap-2.5 sm:gap-4 pr-9 sm:pr-11",children:[e("div",{className:"flex-shrink-0 p-1.5 sm:p-2 rounded-lg ".concat(u[a]),children:D[a]}),t("div",{className:"flex-1 min-w-0 pt-0.5",children:[r&&e("h3",{className:"text-gray-900 font-bold text-sm sm:text-base mb-1 \r\n                           break-words leading-tight",children:r}),s&&e("p",{className:"text-gray-700 text-xs sm:text-sm leading-relaxed \r\n                          break-words",children:s})]})]}),o&&e("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gray-200/50 overflow-hidden",style:{borderRadius:"0 0 12px 12px"},children:e("div",{className:"h-full bg-gradient-to-r ".concat(S[a]," shadow-sm"),style:{animation:"progress ".concat(d,"ms linear forwards"),transformOrigin:"left"}})})]})})}const ft=i.createContext();function vr({children:a}){const[r,s]=i.useState([]),n=i.useCallback(({type:g="info",title:y,message:u,duration:S=5e3,position:j="top-right",autoClose:C=!0})=>{const oe=Date.now()+Math.random();return s(M=>[...M,{id:oe,type:g,title:y,message:u,duration:S,position:j,autoClose:C}]),oe},[]),o=i.useCallback(g=>{s(y=>y.filter(u=>u.id!==g))},[]),d=i.useCallback((g,y,u={})=>n({type:"success",title:g,message:y,...u}),[n]),w=i.useCallback((g,y,u={})=>n({type:"error",title:g,message:y,...u}),[n]),b=i.useCallback((g,y,u={})=>n({type:"warning",title:g,message:y,...u}),[n]),D=i.useCallback((g,y,u={})=>n({type:"info",title:g,message:y,...u}),[n]);return i.useEffect(()=>{const g=y=>{var u;try{const S=((u=y==null?void 0:y.detail)==null?void 0:u.reason)||"";let j=null;j=D("Update available",t("div",{className:"flex items-center gap-3",children:[e("span",{children:"New version available ‚Äî reload to apply the update."}),e("button",{onClick:()=>{try{window.location.reload()}catch(M){}j&&o(j)},className:"ml-3 px-3 py-1 bg-blue-600 text-white rounded-md text-xs",children:"Reload"})]}),{autoClose:!1,duration:0,position:"top-right"})}catch(S){}};return window.addEventListener("sw:reload-request",g),()=>window.removeEventListener("sw:reload-request",g)},[D,o]),t(ft.Provider,{value:{showAlert:n,hideAlert:o,showSuccess:d,showError:w,showWarning:b,showInfo:D},children:[a,r.map(g=>e(br,{type:g.type,title:g.title,message:g.message,duration:g.duration,position:g.position,autoClose:g.autoClose,onClose:()=>o(g.id)},g.id))]})}function xr(){const a=i.useContext(ft);if(!a)throw new Error("useAlert must be used within AlertProvider");return a}class wr{constructor(){this.registration=null,this.subscription=null}isSupported(){return"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window}getPermission(){return this.isSupported()?Notification.permission:"unsupported"}async requestPermission(){if(!this.isSupported())return console.warn("Push notifications are not supported in this browser"),alert("‚ö†Ô∏è Your browser does not support notifications.\n\nPlease use Chrome, Edge, or Firefox."),!1;try{if(Notification.permission==="granted")return console.log("‚úÖ Notification permission already granted"),!0;if(Notification.permission==="denied"){console.warn("‚ùå Notifications are blocked. Please enable them in browser settings.");const s=navigator.userAgent.includes("Chrome")&&!navigator.userAgent.includes("Edge"),n=navigator.userAgent.includes("Edg");let o="‚ùå Notifications are blocked!\n\nTo enable notifications:\n\n";return n?(o+="1. Click the üîí lock icon in the address bar\n",o+='2. Click "Permissions for this site"\n',o+='3. Find "Notifications" and select "Allow"\n',o+="4. Refresh the page"):s?(o+="1. Click the üîí lock icon in the address bar\n",o+='2. Click "Site settings"\n',o+='3. Find "Notifications" and select "Allow"\n',o+="4. Refresh the page"):o+="Go to Settings > Privacy > Notifications\nand allow notifications for this site.",alert(o),!1}console.log("üì¢ Requesting notification permission...");const r=await Notification.requestPermission();return console.log("Notification permission result:",r),r==="granted"?(console.log("‚úÖ Notification permission granted!"),(navigator.platform.includes("Win")||navigator.userAgent.includes("Windows"))&&(console.log("ü™ü Windows detected - sending test notification..."),setTimeout(()=>{this.showTestNotification()},500)),!0):r==="denied"?(console.warn("‚ùå User denied notification permission"),alert("‚ö†Ô∏è Notifications were blocked.\n\nYou won't receive event reminders.\nYou can enable them later in Settings."),!1):(console.log("‚ÑπÔ∏è User dismissed notification permission request"),!1)}catch(r){return console.error("‚ùå Error requesting notification permission:",r),alert("‚ö†Ô∏è Error enabling notifications: "+r.message),!1}}showTestNotification(){if(Notification.permission==="granted")try{const r=new Notification("üéâ Notifications Enabled!",{body:"MSEC Academics notifications are working!\nYou will receive event reminders here.",icon:"/images/android-chrome-192x192.png",badge:"/images/favicon-32x32.png",tag:"test-notification-"+Date.now(),requireInteraction:!1,silent:!1,timestamp:Date.now(),vibrate:[200,100,200],renotify:!0,dir:"auto",lang:"en-US"});r.onclick=function(s){s.preventDefault(),window.focus(),r.close()},setTimeout(()=>{r.close()},5e3),console.log("‚úÖ Test notification sent successfully")}catch(r){console.error("‚ùå Error showing test notification:",r),this.registration&&this.registration.showNotification("üéâ Notifications Enabled!",{body:"MSEC Academics notifications are working!",icon:"/images/android-chrome-192x192.png",tag:"test-notification-"+Date.now()})}}async registerServiceWorker(){if(!("serviceWorker"in navigator))return console.warn("Service Worker not supported"),null;try{const r=await navigator.serviceWorker.register("/service-worker.js",{scope:"/"});return console.log("Service Worker registered:",r),this.registration=r,await navigator.serviceWorker.ready,console.log("Service Worker is ready"),r}catch(r){return console.error("Service Worker registration failed:",r),null}}async getVapidPublicKey(){try{const r=await W.get("/api/notifications/vapid-public-key");return r&&r.publicKey?r.publicKey:(console.warn("Failed to fetch VAPID key from server, using fallback"),"BI3ZQwdtuxxYpepMvZjy5xkuzLbnsjG8J1jfBkGMi0AzbhWDocIASZkq6ocisfwCTnYCHuogo_O-PJSuyfGWwkU")}catch(r){return console.error("Error fetching VAPID key:",r),"BI3ZQwdtuxxYpepMvZjy5xkuzLbnsjG8J1jfBkGMi0AzbhWDocIASZkq6ocisfwCTnYCHuogo_O-PJSuyfGWwkU"}}async subscribe(){if(this.registration||await this.registerServiceWorker(),!this.registration)return console.error("Service Worker registration required"),null;try{let r=localStorage.getItem("userEmail");if(!r){const n=localStorage.getItem("auth");if(n)try{r=JSON.parse(n).email}catch(o){}}if(!r)return alert("Please login again to enable notifications"),null;let s=await this.registration.pushManager.getSubscription();if(!s){const n=await this.getVapidPublicKey();s=await this.registration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:this.urlBase64ToUint8Array(n)})}return this.subscription=s,await this.sendSubscriptionToServer(s,r),this.setUserPrefEnabled(!0),s}catch(r){return console.error("‚ùå Failed to subscribe to push notifications:",r),null}}async unsubscribe(){if(!this.subscription){const r=await navigator.serviceWorker.ready;this.subscription=await r.pushManager.getSubscription()}if(this.subscription)try{return await this.subscription.unsubscribe(),await this.removeSubscriptionFromServer(this.subscription),this.subscription=null,this.setUserPrefEnabled(!1),!0}catch(r){return console.error("Failed to unsubscribe:",r),!1}return this.setUserPrefEnabled(!1),!1}async sendSubscriptionToServer(r,s=null){var n;try{if(!s&&(s=localStorage.getItem("userEmail"),!s)){const d=localStorage.getItem("auth");if(d)try{s=JSON.parse(d).email}catch(w){console.error("Error parsing auth data:",w)}}if(console.log("üíæ Sending subscription to server...",{hasSubscription:!!r,userEmail:s,endpoint:((n=r==null?void 0:r.endpoint)==null?void 0:n.substring(0,50))+"..."}),!s)return console.error("‚ùå No userEmail found in localStorage"),alert("Please login again to enable push notifications."),!1;const o=await W.post("/api/notifications/subscribe",{subscription:r,userEmail:s});return console.log("‚úÖ Subscription sent to server successfully:",o),o&&o.message&&o.message.includes("reassigned")&&console.log("üîÑ This browser subscription was reassigned from a previous user"),o&&(o.success===void 0||o.success)?!0:(console.error("‚ùå Failed to send subscription to server:",o),!1)}catch(o){return console.error("‚ùå Error sending subscription to server:",o),!1}}async removeSubscriptionFromServer(r){var s;try{let n=localStorage.getItem("userEmail");if(!n){const o=localStorage.getItem("auth");if(o)try{n=JSON.parse(o).email}catch(d){console.error("Error parsing auth data:",d)}}if(console.log("Removing subscription from server...",{hasSubscription:!!r,userEmail:n,endpoint:((s=r==null?void 0:r.endpoint)==null?void 0:s.substring(0,50))+"..."}),!n)return console.error("No userEmail found in localStorage"),!1;try{const o=await W.post("/api/notifications/unsubscribe",{endpoint:r.endpoint,userEmail:n});return console.log("Subscription removed from server successfully",o),!0}catch(o){return console.error("Failed to remove subscription:",o),!1}}catch(n){return console.error("Error removing subscription from server:",n),!1}}async showLocalNotification(r,s={}){try{if(this.registration||(console.log("No service worker registration, attempting to register..."),await this.registerServiceWorker()),Notification.permission!=="granted"&&(console.log("Notification permission not granted, requesting..."),!await this.requestPermission()))throw console.warn("Notification permission denied"),new Error("Notification permission denied");const o={...{body:"",icon:"/images/android-chrome-192x192.png",badge:"/images/favicon-32x32.png",vibrate:[200,100,200],tag:"msec-notification-"+Date.now(),requireInteraction:!1,data:{},timestamp:Date.now()},...s};if(this.registration&&this.registration.showNotification)console.log("Using service worker showNotification"),await this.registration.showNotification(r,o);else if("serviceWorker"in navigator){console.log("Attempting to get service worker registration...");const d=await navigator.serviceWorker.getRegistration();if(d)console.log("Found service worker registration, using showNotification"),await d.showNotification(r,o);else if(console.log("No service worker found, using direct Notification API"),"Notification"in window)new Notification(r,o);else throw new Error("Notifications not supported")}else if(console.log("Service worker not supported, using direct Notification API"),"Notification"in window)new Notification(r,o);else throw new Error("Notifications not supported");console.log("Notification displayed successfully")}catch(n){throw console.error("Error showing notification:",n),n}}urlBase64ToUint8Array(r){const s="=".repeat((4-r.length%4)%4),n=(r+s).replace(/\-/g,"+").replace(/_/g,"/"),o=window.atob(n),d=new Uint8Array(o.length);for(let w=0;w<o.length;++w)d[w]=o.charCodeAt(w);return d}getUserPrefEnabled(){try{const r=localStorage.getItem("auth"),s=localStorage.getItem("userEmail")||(r?JSON.parse(r).email:null);if(!s)return null;const n="notifications:".concat(s,":enabled"),o=localStorage.getItem(n);return o===null?null:o==="true"}catch(r){return null}}setUserPrefEnabled(r){try{const s=localStorage.getItem("auth"),n=localStorage.getItem("userEmail")||(s?JSON.parse(s).email:null);if(!n)return;const o="notifications:".concat(n,":enabled");localStorage.setItem(o,r?"true":"false")}catch(s){}}async initialize(){var r;if(!this.isSupported())return console.warn("Push notifications not supported"),!1;try{await this.registerServiceWorker();const s=this.getUserPrefEnabled();if(Notification.permission==="granted"){const n=await((r=this.registration)==null?void 0:r.pushManager.getSubscription());return n&&(this.subscription=n,s===!0?await this.sendSubscriptionToServer(n):console.log("Skipping auto-resync due to user preference OFF")),!0}return!1}catch(s){return console.error("Error initializing notifications:",s),!1}}async checkCurrentSubscription(){this.registration||await this.registerServiceWorker();try{const r=await this.registration.pushManager.getSubscription();if(!r)return console.log("‚ÑπÔ∏è No push subscription exists in this browser"),{found:!1};const s=await W.post("/api/subscription-check",{endpoint:r.endpoint});return s.found?(console.log("üîç This browser is subscribed as: ".concat(s.userEmail)),{found:!0,userEmail:s.userEmail,active:s.active,endpoint:r.endpoint}):(console.log("üîç This subscription is not registered to any user"),{found:!1})}catch(r){return console.error("‚ùå Error checking subscription:",r),{error:r.message}}}async handleLogout(){var r;try{let s=localStorage.getItem("userEmail");if(!s){const o=localStorage.getItem("auth");if(o)try{s=JSON.parse(o).email}catch(d){}}if(!s)return console.log("‚ùì No user email found during logout"),!1;try{await W.post("/api/notifications/deactivate",{userEmail:s}).catch(()=>{})}catch(o){}this.registration||await this.registerServiceWorker();const n=await((r=this.registration)==null?void 0:r.pushManager.getSubscription());if(n)try{await W.post("/api/notifications/deactivate",{userEmail:s,endpoint:n.endpoint}).catch(()=>{})}catch(o){}return this.subscription=null,!0}catch(s){return console.error("‚ùå Error in handleLogout:",s),!1}}}const Se=new wr,yr=()=>Se.requestPermission(),$e=()=>Se.subscribe(),ot=()=>Se.unsubscribe(),Nr=()=>Se.isSupported(),kr=()=>Se.getPermission(),Sr=()=>Se.checkCurrentSubscription();function Cr({isOpen:a,onClose:r,userEmail:s,userRole:n,isMobile:o=!1}){const d=ut(),{showSuccess:w,showError:b,showWarning:D,showInfo:g}=xr(),y=i.useRef(null),u=i.useRef(null),S=i.useRef(null),j=i.useRef(!0),[C,oe]=i.useState(()=>typeof window>"u"?!1:window.matchMedia("(max-width: 768px)").matches),M=o||C,[V,G]=i.useState(!1),[l,v]=i.useState(!0),[m]=i.useState(()=>Nr()),[p,A]=i.useState(()=>typeof window<"u"&&"Notification"in window?Notification.permission:"default"),[R,P]=i.useState(!1),[X,pe]=i.useState(!1),[me,x]=i.useState("draw"),[ae,ee]=i.useState(null),[te,$]=i.useState(!1),[B,T]=i.useState(!1),[O,h]=i.useState(""),[f,I]=i.useState(""),[L,k]=i.useState(""),[K,Y]=i.useState(""),[N,z]=i.useState(!1),[U,ne]=i.useState(!1);i.useState(0),i.useRef(V);const ce=i.useRef(!1);i.useEffect(()=>(j.current=!0,()=>{j.current=!1}),[]),i.useEffect(()=>{if(!(o||C))return;let c;return a&&(c=document.body.style.overflow,document.body.style.overflow="hidden"),()=>{a&&(document.body.style.overflow=c)}},[a,o,C]),i.useEffect(()=>{if(!a)return;let c=!1;return ne(!0),(async()=>{try{let E="default";m&&("Notification"in window?E=Notification.permission:E=kr()),console.log("Current notification permission:",E),c||A(E);const F=localStorage.getItem("userSettings");let Q=!1;if(F){const le=JSON.parse(F);Q=le.notificationsEnabled===!0,console.log("Loaded user preference:",Q),c||(v(le.emailNotifications!==!1),G(Q))}else console.log("New user - defaulting notifications to OFF"),c||(G(!1),localStorage.setItem("userSettings",JSON.stringify({notificationsEnabled:!1,emailNotifications:!0})));try{const le=await Sr(),Z=(le==null?void 0:le.found)===!0;console.log("Current subscription status:",Z,"| User wants:",Q),Q&&!Z&&E==="granted"?(console.log("Creating missing subscription..."),await $e()):!Q&&Z&&(console.log("Removing unwanted subscription..."),await ot())}catch(le){console.error("Error syncing subscription:",le)}}catch(E){console.error("Error loading settings:",E)}finally{c||ne(!1)}})(),()=>{c=!0}},[a,m]),i.useEffect(()=>{if(M)return;const c=_=>{y.current&&!y.current.contains(_.target)&&(U||r())};return a&&document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[a,r,M,U]),i.useEffect(()=>{if(M)return;const c=_=>{_.key==="Escape"&&a&&r()};return a&&document.addEventListener("keydown",c),()=>{document.removeEventListener("keydown",c)}},[a,r,M]);const ue=async()=>{if(ce.current){console.log("Toggle already in progress, ignoring...");return}if(R||!m||U){console.log("Toggle blocked: loading=",R,"supported=",m,"initializing=",U);return}const c=!V;console.log("Toggle clicked - changing from",V,"to",c),G(c),re("notificationsEnabled",c),ce.current=!0,P(!0);try{if(c){console.log("Enabling notifications...");const _="Notification"in window?Notification.permission:"default";if(console.log("Current browser permission:",_),_==="granted"){console.log("Permission already granted, subscribing..."),A("granted");const E=await $e();E?(console.log("Subscription successful:",E),w("Notifications Enabled","Push notifications activated!")):(console.error("Subscription returned null"),G(!1),re("notificationsEnabled",!1),b("Subscription Failed","Unable to subscribe to notifications. Try again."))}else if(_==="denied")console.log("Permission denied by browser"),G(!1),re("notificationsEnabled",!1),A("denied"),b("Permission Blocked","Please enable notifications in your browser settings");else if(console.log("Requesting permission..."),await yr()){A("granted");const F=await $e();F?(console.log("Subscription successful:",F),w("Notifications Enabled","Push notifications activated!")):(console.error("Subscription returned null"),G(!1),re("notificationsEnabled",!1),b("Subscription Failed","Unable to subscribe to notifications. Try again."))}else console.log("Permission request denied"),G(!1),re("notificationsEnabled",!1),A("denied"),b("Permission Blocked","Please enable notifications in your browser settings")}else{console.log("Disabling notifications...");const _=await ot();console.log("Unsubscribe result:",_),g("Notifications Disabled","Push notifications turned off")}}catch(_){console.error("Notification toggle error:",_),G(!c),re("notificationsEnabled",!c),b("Error","Failed to update notification settings")}finally{P(!1),ce.current=!1}},ie=()=>{const c=!l;v(c),re("emailNotifications",c)},re=(c,_)=>{const E=JSON.parse(localStorage.getItem("userSettings")||"{}");E[c]=_,localStorage.setItem("userSettings",JSON.stringify(E))},we=async()=>{if(Y(""),!O||!f||!L){Y("All fields are required");return}if(f!==L){Y("New passwords do not match");return}if(f.length<6){Y("New password must be at least 6 characters");return}z(!0);try{const c=localStorage.getItem("userId");if(!c){Y("Session expired. Please log out and log in again.");return}const _=await apiClient.patch("/api/users?action=reset-password&userId=".concat(c),{currentPassword:O,newPassword:f});if(!_||!_.success){Y((_==null?void 0:_.error)||"Failed to reset password");return}w("Success","Password changed successfully!"),fe()}catch(c){console.error("Password reset error:",c),Y("Error: "+c.message)}finally{z(!1)}},fe=()=>{T(!1),h(""),I(""),k(""),Y("")},be=(c,_)=>c.touches&&c.touches[0]?{x:c.touches[0].clientX-_.left,y:c.touches[0].clientY-_.top}:{x:c.clientX-_.left,y:c.clientY-_.top},He=c=>{c.preventDefault(),$(!0);const _=u.current.getBoundingClientRect(),E=u.current.getContext("2d"),F=be(c,_);E.beginPath(),E.moveTo(F.x,F.y)},Ve=c=>{if(!te)return;c.preventDefault();const _=u.current.getBoundingClientRect(),E=u.current.getContext("2d"),F=be(c,_);E.lineTo(F.x,F.y),E.stroke()},Te=c=>{c&&c.preventDefault(),$(!1)},vt=c=>{var F;const _=(F=c.target.files)==null?void 0:F[0];if(!_)return;if(_.size>2*1024*1024){b("File too large","Maximum 2MB allowed");return}const E=new FileReader;E.onload=Q=>{const le=new Image;le.onload=()=>{const Z=document.createElement("canvas");Z.width=le.width,Z.height=le.height;const Re=Z.getContext("2d");Re.fillStyle="#FFFFFF",Re.fillRect(0,0,Z.width,Z.height),Re.drawImage(le,0,0);const Ce=Re.getImageData(0,0,Z.width,Z.height).data;let ve=Z.width,xe=Z.height,ye=0,Ne=0;for(let se=0;se<Ce.length;se+=4){const Ee=Ce[se],Ct=Ce[se+1],Et=Ce[se+2],_t=Ce[se+3];if((Ee<250||Ct<250||Et<250)&&_t>128){const Ge=se/4,Ke=Ge%Z.width,Ze=Math.floor(Ge/Z.width);ve=Math.min(ve,Ke),xe=Math.min(xe,Ze),ye=Math.max(ye,Ke),Ne=Math.max(Ne,Ze)}}const Le=10;if(ve=Math.max(0,ve-Le),xe=Math.max(0,xe-Le),ye=Math.min(Z.width,ye+Le),Ne=Math.min(Z.height,Ne+Le),ve<ye&&xe<Ne){const se=document.createElement("canvas");se.width=ye-ve,se.height=Ne-xe;const Ee=se.getContext("2d");Ee.fillStyle="#FFFFFF",Ee.fillRect(0,0,se.width,se.height),Ee.drawImage(Z,ve,xe,ye-ve,Ne-xe,0,0,se.width,se.height),ee(se.toDataURL("image/png"))}else ee(Z.toDataURL("image/png"))},le.src=Q.target.result},E.readAsDataURL(_)},Je=()=>{u.current&&u.current.getContext("2d").clearRect(0,0,u.current.width,u.current.height),ee(null),S.current&&(S.current.value="")},xt=async()=>{var _;const c=me==="draw"?(_=u.current)==null?void 0:_.toDataURL("image/png"):ae;if(!c){b("No signature","Please draw or upload a signature");return}try{const E=JSON.parse(localStorage.getItem("auth")||"{}"),F=(E==null?void 0:E.id)||localStorage.getItem("userId");if(E.eSignature=c,localStorage.setItem("auth",JSON.stringify(E)),F)try{try{const Q=await apiClient.patch("/api/users?action=update-signature&userId=".concat(F),{eSignature:c});(!Q||!Q.success)&&console.warn("Could not persist signature to backend:",Q==null?void 0:Q.error)}catch(Q){console.warn("Backend signature save failed:",Q.message)}}catch(Q){console.warn("Backend signature save failed:",Q.message)}w("Saved","Signature saved successfully!"),pe(!1),x("draw"),ee(null)}catch(E){console.error("Signature save error:",E),b("Error","Failed to save signature")}},Ye=()=>{pe(!1),x("draw"),ee(null),Je()},wt=()=>{try{r()}catch(c){console.error("Error closing modal:",c)}localStorage.removeItem("auth"),localStorage.removeItem("isLoggedIn"),localStorage.removeItem("userEmail"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),window.dispatchEvent(new Event("authStateChanged"));try{d("/login")}catch(c){window.location.href="/login"}},yt=c=>{c.stopPropagation(),c.preventDefault(),window.location.href="mailto:support@msecacademics.edu?subject=MSEC Academics Support",setTimeout(()=>{r()},300)};if(!a)return null;const Nt=()=>{const c=(()=>{if(n==="student")try{const E=JSON.parse(localStorage.getItem("auth")||"{}");return(E==null?void 0:E.name)||s}catch(E){return s}return s})(),_=(()=>{var E;if(n==="student")try{const F=JSON.parse(localStorage.getItem("auth")||"{}");return((E=F==null?void 0:F.name)==null?void 0:E.charAt(0).toUpperCase())||"S"}catch(F){return"S"}return(s==null?void 0:s.charAt(0).toUpperCase())||"?"})();return t(de,{children:[e("button",{type:"button",onClick:E=>{E.stopPropagation(),U||r()},className:"absolute z-10 w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-200 active:bg-gray-300 transition-colors touch-manipulation ".concat(C?"top-3 right-3 sm:top-4 sm:right-4":"top-3 right-3"),"aria-label":"Close settings",style:{touchAction:"manipulation",boxSizing:"border-box"},children:e("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:"2",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}),e("div",{className:"px-4 sm:px-4 py-3 sm:py-4 border-b border-[#e7edf4] hover:bg-gray-50/50 transition-colors duration-200",children:t("div",{className:"flex items-center gap-3 pr-6",children:[e("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center flex-shrink-0 group-hover:shadow-md group-hover:scale-105 transition-all duration-200",children:e("span",{className:"text-base font-bold text-yellow-600 group-hover:text-yellow-700 transition-colors duration-200",children:_})}),t("div",{className:"flex-1 min-w-0",children:[e("h3",{className:"text-[#0b1220] font-semibold text-sm truncate group-hover:text-black transition-colors duration-200",children:c}),t("p",{className:"text-[#475569] text-xs capitalize group-hover:text-[#374151] transition-colors duration-200",children:[n," Account"]})]})]})})]})},kt=()=>t("div",{className:"px-3 sm:px-4 py-3 sm:py-4 space-y-4 sm:space-y-5 flex-1 overflow-y-auto overflow-x-hidden smooth-scroll settings-content",style:{WebkitOverflowScrolling:"touch",overscrollBehavior:"contain",touchAction:"pan-y",WebkitTapHighlightColor:"transparent",scrollBehavior:"smooth",width:"100%",boxSizing:"border-box"},children:[n!=="student"&&t("div",{children:[t("h4",{className:"text-sm font-semibold text-[#111418] group-hover:text-[#0b1220] mb-2 flex items-center gap-2 transition-colors duration-200",children:[e("svg",{className:"w-4 h-4 group-hover:text-yellow-600 transition-colors duration-200",fill:"currentColor",viewBox:"0 0 20 20",children:e("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),"Account"]}),t("div",{className:"space-y-2",children:[t("button",{type:"button",onClick:c=>{c.stopPropagation(),pe(!0)},className:"w-full flex items-center gap-3 p-3 rounded-lg bg-white/6 hover:bg-white/12 hover:shadow-sm active:bg-white/5 transition-all duration-200 text-left min-h-[52px] cursor-pointer group",style:{touchAction:"manipulation",pointerEvents:"auto"},children:[e("svg",{className:"w-4 h-4 text-[#60758a] group-hover:text-[#4a5568] flex-shrink-0 transition-colors duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),t("div",{className:"flex-1 min-w-0",children:[e("p",{className:"text-sm font-medium text-[#111418] group-hover:text-[#0b1220] transition-colors duration-200",children:"Add Signature"}),e("p",{className:"text-xs text-[#60758a] group-hover:text-[#4a5568] mt-0.5 transition-colors duration-200",children:"Draw your digital signature for PDFs"})]}),e("svg",{className:"w-4 h-4 text-[#60758a] group-hover:text-[#4a5568] group-hover:translate-x-1 flex-shrink-0 transition-all duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),t("button",{type:"button",onClick:c=>{c.stopPropagation(),T(!0),Y("")},className:"w-full flex items-center gap-3 p-3 rounded-lg bg-white/6 hover:bg-white/12 hover:shadow-sm active:bg-white/5 transition-all duration-200 text-left min-h-[52px] cursor-pointer group",style:{touchAction:"manipulation",pointerEvents:"auto"},children:[e("svg",{className:"w-4 h-4 text-[#60758a] group-hover:text-[#4a5568] flex-shrink-0 transition-colors duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),t("div",{className:"flex-1 min-w-0",children:[e("p",{className:"text-sm font-medium text-[#111418] group-hover:text-[#0b1220] transition-colors duration-200",children:"Reset Password"}),e("p",{className:"text-xs text-[#60758a] group-hover:text-[#4a5568] mt-0.5 transition-colors duration-200",children:"Change your account password"})]}),e("svg",{className:"w-4 h-4 text-[#60758a] group-hover:text-[#4a5568] group-hover:translate-x-1 flex-shrink-0 transition-all duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]}),n==="student"&&t("div",{children:[t("h4",{className:"text-sm font-semibold text-[#111418] group-hover:text-[#0b1220] mb-2 flex items-center gap-2 transition-colors duration-200",children:[e("svg",{className:"w-4 h-4 group-hover:text-yellow-600 transition-colors duration-200",fill:"currentColor",viewBox:"0 0 20 20",children:e("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),"Account"]}),e("div",{className:"space-y-2",children:t("button",{type:"button",onClick:c=>{c.stopPropagation(),T(!0),Y("")},className:"w-full flex items-center gap-3 p-3 rounded-lg bg-white/6 hover:bg-white/12 hover:shadow-sm active:bg-white/5 transition-all duration-200 text-left min-h-[52px] cursor-pointer group",style:{touchAction:"manipulation",pointerEvents:"auto"},children:[e("svg",{className:"w-4 h-4 text-[#60758a] group-hover:text-[#4a5568] flex-shrink-0 transition-colors duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),t("div",{className:"flex-1 min-w-0",children:[e("p",{className:"text-sm font-medium text-[#111418] group-hover:text-[#0b1220] transition-colors duration-200",children:"Change Password"}),e("p",{className:"text-xs text-[#60758a] group-hover:text-[#4a5568] mt-0.5 transition-colors duration-200",children:"Update your login password"})]}),e("svg",{className:"w-4 h-4 text-[#60758a] group-hover:text-[#4a5568] group-hover:translate-x-1 flex-shrink-0 transition-all duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]}),t("div",{className:"border-t border-[#e7edf4] pt-3",children:[t("h4",{className:"text-sm font-semibold text-[#111418] group-hover:text-[#0b1220] mb-2 flex items-center gap-2 transition-colors duration-200",children:[e("svg",{className:"w-4 h-4 group-hover:text-yellow-600 transition-colors duration-200",fill:"currentColor",viewBox:"0 0 20 20",children:e("path",{d:"M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"})}),"Notifications"]}),!m&&e("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3 mb-3",children:e("p",{className:"text-xs text-yellow-700",children:"Browser notifications not supported"})}),p==="denied"&&e("div",{className:"bg-red-50 border border-red-200 rounded-md p-3 mb-3",children:e("p",{className:"text-xs text-red-700",children:"Notifications blocked. Enable in browser settings."})}),V&&p==="granted"&&e("div",{className:"bg-green-50 border border-green-200 rounded-md p-3 mb-3",children:e("p",{className:"text-xs text-green-700",children:"‚úì Notifications enabled successfully!"})}),t("div",{className:"space-y-3",children:[t("div",{className:"flex items-center justify-between p-3 rounded-lg bg-white/6 min-h-[52px]",children:[t("div",{className:"flex-1",children:[e("p",{className:"text-sm font-medium text-[#111418]",children:"Push Notifications"}),e("p",{className:"text-xs text-[#60758a]",children:"Get academic notifications"})]}),e("div",{className:"flex-shrink-0 toggle-touch-area",children:e("button",{type:"button",onClick:c=>{c.preventDefault(),c.stopPropagation(),console.log("Button clicked by user"),ue()},disabled:R||!m||p==="denied"||U,className:"toggle-switch ".concat(V?"enabled":"disabled"," ").concat(R||U?"toggle-loading":""," disabled:opacity-50 disabled:cursor-not-allowed"),style:{touchAction:"manipulation",pointerEvents:"auto"},"aria-label":"".concat(V?"Disable":"Enable"," push notifications"),children:R?e("div",{className:"toggle-knob",children:t("svg",{className:"animate-spin h-3 w-3 text-theme-gold-600 mx-auto",fill:"none",viewBox:"0 0 24 24",children:[e("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):e("div",{className:"toggle-knob ".concat(V?"enabled":"disabled")})})})]}),t("div",{className:"flex items-center justify-between p-3 rounded-lg bg-white/6 min-h-[52px]",children:[t("div",{className:"flex-1",children:[e("p",{className:"text-sm font-medium text-[#111418]",children:"Email Notifications"}),e("p",{className:"text-xs text-[#60758a]",children:"Receive academic updates via email"})]}),e("div",{className:"flex-shrink-0 toggle-touch-area",children:e("button",{type:"button",onClick:c=>{c.stopPropagation(),ie()},className:"toggle-switch ".concat(l?"enabled":"disabled"),style:{touchAction:"manipulation",pointerEvents:"auto"},"aria-label":"".concat(l?"Disable":"Enable"," email notifications"),children:e("div",{className:"toggle-knob ".concat(l?"enabled":"disabled")})})})]})]})]}),t("div",{className:"border-t border-[#e7edf4] pt-3",children:[t("h4",{className:"text-sm font-semibold text-[#111418] group-hover:text-[#0b1220] mb-2 flex items-center gap-2 transition-colors duration-200",children:[e("svg",{className:"w-4 h-4 group-hover:text-yellow-600 transition-colors duration-200",fill:"currentColor",viewBox:"0 0 20 20",children:e("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),"Help & Support"]}),e("div",{className:"space-y-2",children:t("button",{type:"button",onClick:yt,className:"w-full flex items-center gap-3 p-3 rounded-lg bg-white/6 hover:bg-white/12 hover:shadow-sm active:bg-white/5 transition-all duration-200 text-left min-h-[52px] cursor-pointer group",style:{touchAction:"manipulation",pointerEvents:"auto"},children:[e("svg",{className:"w-4 h-4 text-[#60758a] group-hover:text-[#4a5568] flex-shrink-0 transition-colors duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),e("span",{className:"text-sm font-medium text-[#111418] group-hover:text-[#0b1220] flex-1 transition-colors duration-200",children:"Email Support"}),e("svg",{className:"w-4 h-4 text-[#60758a] group-hover:text-[#4a5568] group-hover:translate-x-1 group-hover:-translate-y-1 flex-shrink-0 transition-all duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})})]}),e("div",{className:"border-t border-[#e7edf4] pt-3 mt-3",children:t("button",{type:"button",onClick:c=>{c.stopPropagation(),wt()},className:"w-full flex items-center justify-center gap-2 p-3 rounded-lg bg-red-50 hover:bg-red-100 active:bg-red-200 text-red-600 font-semibold text-sm transition-colors min-h-[48px] cursor-pointer",style:{touchAction:"manipulation",pointerEvents:"auto"},children:[e("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Logout"]})})]}),Oe=t("div",{ref:y,onClick:c=>c.stopPropagation(),onMouseDown:c=>c.stopPropagation(),className:(C?"inner-panel pointer-events-auto":"settings-glass-card no-mobile-backdrop pointer-events-auto")+" rounded-xl shadow-lg overflow-hidden w-full max-w-sm mx-auto flex flex-col group "+(C?"rounded-b-2xl sm:rounded-xl max-w-md":"absolute top-full right-0 mt-2 w-80"),style:{boxShadow:"0 8px 28px rgba(2,6,23,0.06)",background:C?"#ffffff":void 0,maxHeight:C?"calc(100vh - 80px)":"90vh",overflowY:"auto",...C&&{marginTop:"100px",marginLeft:"auto",marginRight:"auto"}},onMouseEnter:()=>{!M&&typeof document<"u"&&document.body.classList.add("settings-hover-active")},onMouseLeave:()=>{!M&&typeof document<"u"&&document.body.classList.remove("settings-hover-active")},children:[e(Nt,{}),e(kt,{}),B&&e("div",{className:"fixed inset-0 z-[70] flex items-center justify-center bg-black/40 backdrop-blur-sm",onClick:c=>{c.currentTarget===c.target&&fe()},children:t("div",{className:"bg-white rounded-2xl p-6 w-full max-w-sm mx-4 shadow-2xl max-h-[90vh] overflow-y-auto",onClick:c=>c.stopPropagation(),children:[e("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Reset Password"}),K&&e("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-4",children:e("p",{className:"text-sm text-red-700",children:K})}),t("div",{className:"space-y-4 mb-6",children:[t("div",{children:[e("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Current Password"}),e("input",{type:"password",value:O,onChange:c=>h(c.target.value),placeholder:"Enter current password",className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-400 focus:border-yellow-500 focus:outline-none text-base",autoComplete:"current-password"})]}),t("div",{children:[e("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"New Password"}),e("input",{type:"password",value:f,onChange:c=>I(c.target.value),placeholder:"Enter new password (min. 6 characters)",className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-400 focus:border-yellow-500 focus:outline-none text-base",autoComplete:"new-password"})]}),t("div",{children:[e("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Confirm New Password"}),e("input",{type:"password",value:L,onChange:c=>k(c.target.value),placeholder:"Confirm new password",className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-400 focus:border-yellow-500 focus:outline-none text-base",autoComplete:"new-password"})]})]}),t("div",{className:"flex gap-3",children:[e("button",{onClick:fe,className:"flex-1 px-4 py-2.5 border-2 border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-semibold text-sm transition-colors",children:"Cancel"}),e("button",{onClick:we,disabled:N,className:"flex-1 px-4 py-2.5 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-60 font-semibold text-sm transition-colors",children:N?"Resetting...":"Reset Password"})]})]})}),X&&e("div",{className:"fixed inset-0 z-[70] flex items-center justify-center bg-black/40 backdrop-blur-sm",onClick:c=>{c.currentTarget===c.target&&Ye()},children:t("div",{className:"bg-white rounded-2xl p-6 w-full max-w-md mx-4 shadow-2xl max-h-[90vh] overflow-y-auto",onClick:c=>c.stopPropagation(),children:[e("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Add Your Signature"}),e("p",{className:"text-sm text-gray-600 mb-5",children:"This signature will be used in generated PDFs"}),t("div",{className:"flex gap-2 mb-5 bg-gray-100 p-1 rounded-lg",children:[e("button",{onClick:()=>x("draw"),className:"flex-1 py-2.5 px-4 rounded-md font-semibold text-sm transition-all ".concat(me==="draw"?"bg-white text-gray-900 shadow-md":"text-gray-600 hover:text-gray-900"),children:"‚úçÔ∏è Draw"}),e("button",{onClick:()=>x("upload"),className:"flex-1 py-2.5 px-4 rounded-md font-semibold text-sm transition-all ".concat(me==="upload"?"bg-white text-gray-900 shadow-md":"text-gray-600 hover:text-gray-900"),children:"üì§ Upload"})]}),me==="draw"&&e("div",{className:"mb-5 border-2 border-gray-300 rounded-xl overflow-hidden bg-white",style:{height:"160px"},children:e("canvas",{ref:u,width:400,height:160,onMouseDown:He,onMouseMove:Ve,onMouseUp:Te,onMouseLeave:Te,onTouchStart:He,onTouchMove:Ve,onTouchEnd:Te,className:"w-full h-full cursor-crosshair",style:{touchAction:"none",display:"block"}})}),me==="upload"&&t("div",{className:"mb-5",children:[e("input",{ref:S,type:"file",accept:"image/jpeg,image/jpg,image/png",onChange:vt,className:"hidden",id:"signature-upload"}),ae?e("div",{className:"border-2 border-gray-300 rounded-xl overflow-hidden bg-white flex items-center justify-center",style:{height:"160px"},children:e("img",{src:ae,alt:"Uploaded",className:"max-w-full max-h-full object-contain"})}):t("label",{htmlFor:"signature-upload",className:"flex flex-col items-center justify-center border-2 border-dashed border-gray-300 rounded-xl p-8 cursor-pointer hover:border-yellow-500 hover:bg-yellow-50 transition-all",style:{height:"160px"},children:[e("svg",{className:"w-12 h-12 text-gray-400 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),e("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Click to upload signature"}),e("p",{className:"text-xs text-gray-500",children:"JPEG or PNG (max 2MB)"})]})]}),t("div",{className:"flex gap-2",children:[e("button",{onClick:Je,className:"flex-1 px-4 py-2.5 border-2 border-gray-400 text-gray-700 rounded-lg hover:bg-gray-100 font-semibold text-sm transition-colors",children:"Clear"}),e("button",{onClick:Ye,className:"flex-1 px-4 py-2.5 border-2 border-gray-400 text-gray-700 rounded-lg hover:bg-gray-100 font-semibold text-sm transition-colors",children:"Cancel"}),e("button",{onClick:xt,className:"flex-1 px-4 py-2.5 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 font-semibold text-sm transition-colors shadow-md",children:"Save"})]})]})})]});if(!M)return Oe;const St=e("div",{className:"fixed inset-0 z-50 flex flex-col bg-black/60 backdrop-blur-sm",onClick:c=>{c.currentTarget===c.target&&r()},children:e("div",{className:"w-full flex-1 overflow-y-auto",children:Oe})});return C?Pe.createPortal(St,document.body):Oe}function nt({children:a,actions:r=[],onSwipe:s}){const[n,o]=i.useState(0),[d,w]=i.useState(!1),[b,D]=i.useState(!1),g=i.useRef(0),y=i.useRef(0),u=i.useRef(0),S=i.useRef(null),j=50,C=200,oe=200;i.useEffect(()=>{const m=p=>{S.current&&!S.current.contains(p.target)&&b&&l()};return document.addEventListener("mousedown",m),document.addEventListener("touchstart",m),()=>{document.removeEventListener("mousedown",m),document.removeEventListener("touchstart",m)}},[b]);const M=m=>{g.current=m.touches[0].clientX,y.current=m.touches[0].clientY,w(!0)},V=m=>{if(!d)return;const p=m.touches[0].clientX,A=m.touches[0].clientY,R=p-g.current,P=A-y.current,X=10;if(!(Math.abs(R)>X&&Math.abs(R)>Math.abs(P)*1.5))return;const me=R>0,x=R<0,ae=r.some($=>$.direction==="right"),ee=r.some($=>$.direction!=="right");if(me&&!ae||x&&!ee)return;let te=Math.max(Math.min(R,C),-C);u.current=te,o(te)},G=()=>{if(w(!1),Math.abs(u.current)>j){const m=u.current>0,p=r.filter(P=>m?P.direction==="right":P.direction!=="right");if(m&&p.some(P=>P.autoTrigger)){const P=p.find(X=>X.autoTrigger);if(P){l(),P.onClick&&P.onClick();return}}const A=Math.min(p.length*oe,C),R=m?A:-A;o(R),D(!0),s&&s()}else l()},l=()=>{o(0),D(!1),u.current=0},v=m=>{l(),m.onClick&&m.onClick()};return t("div",{ref:S,className:"relative overflow-hidden rounded-xl shadow-sm border border-gray-200",style:{touchAction:"pan-y",transform:"translateZ(0)",willChange:d?"transform":"auto"},children:[e("div",{className:"absolute inset-y-0 right-0 flex flex-col items-center justify-center gap-3 py-3 z-0",style:{width:"200px"},children:r.filter(m=>m.direction!=="right").map((m,p)=>t("button",{onClick:()=>v(m),className:"flex items-center justify-center gap-2 px-6 py-3 font-semibold transition-all duration-200 text-sm rounded-lg shadow-md hover:shadow-lg active:scale-95 ".concat(m.className||"border-gray-200 text-gray-600 bg-white"),style:{minWidth:"140px",minHeight:"48px"},title:m.label,children:[m.icon,e("span",{children:m.label})]},p))}),e("div",{className:"absolute inset-y-0 left-0 flex flex-col items-center justify-center gap-3 py-3 z-0",style:{width:"200px"},children:r.filter(m=>m.direction==="right").map((m,p)=>t("button",{onClick:()=>v(m),className:"flex items-center justify-center gap-2 px-6 py-3 font-semibold transition-all duration-200 text-sm rounded-lg shadow-md hover:shadow-lg active:scale-95 ".concat(m.className||"border-gray-200 text-gray-600 bg-white"),style:{minWidth:"140px",minHeight:"48px"},title:m.label,children:[m.icon,e("span",{children:m.label})]},p))}),e("div",{className:"relative z-10 bg-white rounded-xl",style:{transform:"translate3d(".concat(n,"px, 0, 0)"),transition:d?"none":"transform 0.3s cubic-bezier(0.4, 0, 0.2, 1)",willChange:d?"transform":"auto",boxShadow:b?"0 4px 6px -1px rgba(0, 0, 0, 0.1)":"none"},onTouchStart:M,onTouchMove:V,onTouchEnd:G,children:a})]})}function Er(a={}){i.useEffect(()=>{if(!("serviceWorker"in navigator)){console.warn("Service Workers not supported");return}const r=s=>{if(!s.data)return;const{type:n,data:o}=s.data;n==="NOTIFICATION_RECEIVED"&&a[o==null?void 0:o.notificationType]&&(console.log("üì≤ Push notification received: ".concat(o.notificationType)),console.log("   Triggering refresh handler..."),a[o.notificationType](o))};return navigator.serviceWorker.addEventListener("message",r),()=>{navigator.serviceWorker.removeEventListener("message",r)}},[a])}function na(a){i.useEffect(()=>{const r=()=>{document.hidden||(console.log("üì± Page came into focus, refreshing data..."),a==null||a())};return document.addEventListener("visibilitychange",r),()=>{document.removeEventListener("visibilitychange",r)}},[a])}function _r({isOpen:a,onClose:r,setUnreadCount:s}){const[n,o]=i.useState([]),[d,w]=i.useState(!0),[b,D]=i.useState(null),[g,y]=i.useState(""),[u,S]=i.useState(null);i.useEffect(()=>{var l;if(a){console.log("[NotificationRequests] Modal opened, isOpen:",a);const v=JSON.parse(localStorage.getItem("auth")||"{}"),m=(v==null?void 0:v.role)||((l=v.user)==null?void 0:l.role)||"";console.log("[NotificationRequests] Auth from localStorage:",v),console.log("[NotificationRequests] User role detected:",m),y(m),w(!0),setTimeout(()=>{console.log("[NotificationRequests] About to call fetchRequests, userRole:",m),j()},0)}},[a]),Er(a?{late_arrival:()=>{console.log("üîî Late arrival notification triggered refresh in NotificationRequests"),j()},leave_request:()=>{console.log("üîî Leave request notification triggered refresh in NotificationRequests"),j()},staff_approval:()=>{console.log("üîî Staff approval notification triggered refresh in NotificationRequests"),j()},marksheet_dispatch:()=>{console.log("üîî Marksheet dispatch notification triggered refresh in NotificationRequests"),j()}}:{});const j=async()=>{var l,v,m,p,A,R,P,X,pe,me;try{console.log("[NotificationRequests] fetchRequests called"),w(!0);const x=JSON.parse(localStorage.getItem("auth")||"{}");console.log("[NotificationRequests] Full auth object:",x),console.log("[NotificationRequests] Auth user object:",x.user);const ae=(x==null?void 0:x.role)||((l=x.user)==null?void 0:l.role),ee=(x==null?void 0:x.id)||((v=x.user)==null?void 0:v.id);if(console.log("[NotificationRequests] Fetching for user:",ae,ee),ae==="hod"){const te=ee;if(console.log("[NotificationRequests] HOD ID to send:",te),!te){console.error("[NotificationRequests] ERROR: No HOD ID found!"),o([]),w(!1);return}const $="/api/staff-approval?action=pending&hodId=".concat(te),B=JSON.parse(localStorage.getItem("auth")||"{}"),T=(B==null?void 0:B.department)||((m=B.user)==null?void 0:m.department),O="/api/leaves?department=".concat(T,"&type=leave");console.log("[NotificationRequests] Staff API URL:",$),console.log("[NotificationRequests] Leave API URL:",O);try{const[h,f]=await Promise.all([W.get($),W.get(O)]);console.log("[NotificationRequests] Staff Data:",h),console.log("[NotificationRequests] Leave Data:",f);const I=[];if(h.success&&h.requests){const L=(h.requests||[]).map(k=>({_id:k.id,type:"staff_account_approval",createdAt:k.createdAt,data:{requestId:k.id,staffName:k.name,staffEmail:k.email,phoneNumber:k.phoneNumber,department:k.department,year:k.year,section:k.section,status:"pending"}}));console.log("[NotificationRequests] Converted staff requests:",L),I.push(...L)}if(f.success&&f.requests){const L=(f.requests||[]).filter(k=>k.status==="requested").map(k=>{var K,Y,N,z,U;return{_id:k._id,type:"leave_request",createdAt:k.createdAt,data:{requestId:k._id,studentName:(K=k.studentDetails)==null?void 0:K.name,regNumber:(Y=k.studentDetails)==null?void 0:Y.regNumber,department:(N=k.studentDetails)==null?void 0:N.department,year:(z=k.studentDetails)==null?void 0:z.year,section:(U=k.studentDetails)==null?void 0:U.section,reason:k.reason,startDate:k.startDate,endDate:k.endDate,type:k.type,status:"pending"}}});console.log("[NotificationRequests] Converted leave requests:",L),I.push(...L)}console.log("[NotificationRequests] Total requests:",I.length),o(I)}catch(h){console.error("[NotificationRequests] Error fetching requests:",h),o([])}}else if(ae==="staff"){const te=await W.get("/api/notifications?userEmail=".concat((x==null?void 0:x.email)||((p=x.user)==null?void 0:p.email)));let $=[];if(te.success){const B=te.notifications.find(T=>{var O,h;return T.type==="staff_account_approval"&&((O=T.data)==null?void 0:O.staffEmail)===((x==null?void 0:x.email)||((h=x.user)==null?void 0:h.email))});B&&S({status:((A=B.data)==null?void 0:A.status)||"pending",processedAt:(R=B.data)==null?void 0:R.processedAt,department:(P=B.data)==null?void 0:P.department,year:(X=B.data)==null?void 0:X.year,section:(pe=B.data)==null?void 0:pe.section,createdAt:B.createdAt})}if(x!=null&&x.year&&(x!=null&&x.section)&&(x!=null&&x.department))try{const B=await W.get("/api/leaves?department=".concat(x.department,"&type=late&status=requested"));if(B.success&&B.requests){const T=(B.requests||[]).filter(O=>{var h,f;return((h=O.studentDetails)==null?void 0:h.year)===x.year&&((f=O.studentDetails)==null?void 0:f.section)===x.section}).map(O=>{var h,f,I,L,k;return{_id:O._id,type:"late_arrival",createdAt:O.createdAt,data:{requestId:O._id,studentName:(h=O.studentDetails)==null?void 0:h.name,regNumber:(f=O.studentDetails)==null?void 0:f.regNumber,department:(I=O.studentDetails)==null?void 0:I.department,year:(L=O.studentDetails)==null?void 0:L.year,section:(k=O.studentDetails)==null?void 0:k.section,reason:O.reason,expectedArrivalTime:O.expectedArrivalTime,type:O.type,status:"pending"}}});console.log("[NotificationRequests] Late requests for staff:",T),$=[...$,...T]}}catch(B){console.error("[NotificationRequests] Error fetching late requests:",B)}o($)}else if(ae==="admin"){const te=(x==null?void 0:x.email)||((me=x.user)==null?void 0:me.email);if(!te)o([]);else{const $=await W.get("/api/notifications?userEmail=".concat(encodeURIComponent(te)));if($.success&&Array.isArray($.notifications)){const B=$.notifications.map(T=>({_id:T._id,type:T.type||"system",title:T.title||"System notification",body:T.body||T.message||"No details provided",createdAt:T.createdAt,read:!!T.read,data:T.data||{}}));o(B),s&&s(B.filter(T=>!T.read).length)}else o([])}}}catch(x){console.error("Error fetching requests:",x)}finally{w(!1)}},C=async l=>{var v,m;if(l.type==="late_arrival"){D(l._id);try{const p=JSON.parse(localStorage.getItem("auth")||"{}"),A=(p==null?void 0:p.id)||((v=p.user)==null?void 0:v.id);try{await W.patch("/api/leaves?id=".concat(l.data.requestId,"&action=acknowledge"),{staffId:A}),o(R=>R.filter(P=>P._id!==l._id)),console.log("‚úÖ Late arrival recorded, waiting for student confirmation")}catch(R){console.error("Error recording late arrival:",R)}}catch(p){console.error("Error recording late arrival:",p)}finally{D(null)}return}D(l._id);try{const p=JSON.parse(localStorage.getItem("auth")||"{}"),A=(p==null?void 0:p.id)||((m=p.user)==null?void 0:m.id);let R;try{l.type==="staff_account_approval"?await W.patch("/api/staff-approval",{requestId:l.data.requestId,action:"approve",hodId:A}):l.type==="leave_request"&&await W.patch("/api/leaves?id=".concat(l.data.requestId,"&action=approve"),{hodId:A}),o(P=>P.filter(X=>X._id!==l._id))}catch(P){console.error("Error approving request:",P)}}catch(p){console.error("Error approving request:",p)}finally{D(null)}},oe=async l=>{var v;D(l._id);try{const m=prompt("Enter rejection reason (optional):");if(m===null){D(null);return}const p=JSON.parse(localStorage.getItem("auth")||"{}"),A=(p==null?void 0:p.id)||((v=p.user)==null?void 0:v.id);let R;try{l.type==="staff_account_approval"?await W.patch("/api/staff-approval",{requestId:l.data.requestId,action:"reject",hodId:A,rejectionReason:m}):l.type==="leave_request"&&await W.patch("/api/leaves?id=".concat(l.data.requestId,"&action=reject"),{hodId:A,reason:m}),o(P=>P.filter(X=>X._id!==l._id))}catch(P){console.error("Error rejecting request:",P)}}catch(m){console.error("Error rejecting request:",m)}finally{D(null)}},M=async l=>{try{await W.patch("/api/notifications/".concat(l,"/read")),o(v=>{const m=v.map(p=>p._id===l?{...p,read:!0}:p);return s&&s(m.filter(p=>!p.read).length),m})}catch(v){console.error("Error marking notification as read:",v)}},V=async()=>{try{const l=n.filter(v=>!v.read);await Promise.all(l.map(v=>W.patch("/api/notifications/".concat(v._id,"/read")))),o(v=>v.map(m=>({...m,read:!0}))),s&&s(0)}catch(l){console.error("Error marking all notifications as read:",l)}};if(!a)return null;if(g==="admin"){const l=n.filter(m=>!m.read).length,v=e("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",onClick:m=>{m.target===m.currentTarget&&r()},children:t("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",onClick:m=>m.stopPropagation(),children:[t("div",{className:"flex items-center justify-between px-4 sm:px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-theme-gold/10 to-theme-gold/5",children:[t("div",{className:"flex items-center gap-3",children:[e("div",{className:"w-10 h-10 rounded-full bg-theme-gold-gradient flex items-center justify-center",children:e(Ue,{className:"w-5 h-5 text-white"})}),t("div",{children:[e("h2",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Notifications"}),e("p",{className:"text-xs sm:text-sm text-gray-600",children:"System updates for admin"})]})]}),t("div",{className:"flex items-center gap-2",children:[l>0&&e("button",{onClick:V,className:"text-xs sm:text-sm font-semibold text-blue-700 bg-blue-50 border border-blue-100 px-3 py-1.5 rounded-lg hover:bg-blue-100",children:"Mark all read"}),e("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Close",children:e(Me,{className:"w-5 h-5 text-gray-500"})})]})]}),e("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:d?e("div",{className:"flex items-center justify-center py-12",children:e("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-theme-gold"})}):n.length===0?t("div",{className:"text-center py-12",children:[e("div",{className:"w-16 h-16 rounded-full bg-gray-100 mx-auto mb-4 flex items-center justify-center",children:e(ke,{className:"w-8 h-8 text-gray-400"})}),e("p",{className:"text-gray-600 font-medium",children:"No notifications"}),e("p",{className:"text-sm text-gray-500 mt-1",children:"Everything is up to date"})]}):e("div",{className:"space-y-3",children:n.map(m=>{var p;return e("div",{className:"border rounded-xl p-4 sm:p-5 transition-all ".concat(m.read?"bg-white border-gray-200":"bg-blue-50 border-blue-200"),children:t("div",{className:"flex items-start justify-between gap-3",children:[t("div",{className:"flex-1 min-w-0",children:[t("div",{className:"flex items-center gap-2 mb-1",children:[e("span",{className:"text-xs font-bold px-2 py-1 rounded-full ".concat(m.read?"bg-gray-100 text-gray-700":"bg-blue-100 text-blue-700"),children:((p=m.type)==null?void 0:p.replace(/_/g," "))||"notification"}),!m.read&&e("span",{className:"text-[11px] font-semibold text-blue-700",children:"NEW"})]}),e("h3",{className:"text-sm sm:text-base font-bold text-gray-900 break-words",children:m.title}),e("p",{className:"text-xs sm:text-sm text-gray-700 mt-1 break-words",children:m.body}),e("p",{className:"text-[11px] text-gray-500 mt-2",children:m.createdAt?new Date(m.createdAt).toLocaleString():"Just now"})]}),!m.read&&e("button",{onClick:()=>M(m._id),className:"text-xs font-semibold text-green-700 bg-green-50 border border-green-100 px-3 py-1.5 rounded-lg hover:bg-green-100",children:"Mark read"})]})},m._id)})})})]})});return Pe.createPortal(v,document.body)}if(g==="staff"){const l=e("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",onClick:v=>{v.target===v.currentTarget&&r()},children:t("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",onClick:v=>v.stopPropagation(),children:[t("div",{className:"flex items-center justify-between px-4 sm:px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-theme-gold/10 to-theme-gold/5",children:[t("div",{className:"flex items-center gap-3",children:[e("div",{className:"w-10 h-10 rounded-full bg-theme-gold-gradient flex items-center justify-center",children:e(ze,{className:"w-5 h-5 text-white"})}),t("div",{children:[e("h2",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Notifications"}),e("p",{className:"text-xs sm:text-sm text-gray-600",children:"Your account status & late arrivals"})]})]}),e("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Close",children:e(Me,{className:"w-5 h-5 text-gray-500"})})]}),e("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:d?e("div",{className:"flex items-center justify-center py-12",children:e("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-theme-gold"})}):t("div",{className:"space-y-4",children:[u&&t(de,{children:[e("h3",{className:"text-sm font-bold text-gray-700 mb-3",children:"Account Status"}),t("div",{className:"rounded-xl p-5 border-2 ".concat(u.status==="approved"?"bg-green-50 border-green-300":u.status==="rejected"?"bg-red-50 border-red-300":"bg-blue-50 border-blue-300"),children:[t("div",{className:"flex items-center gap-3 mb-3",children:[u.status==="approved"?e(ke,{className:"w-8 h-8 text-green-600"}):u.status==="rejected"?e(lr,{className:"w-8 h-8 text-red-600"}):e(ze,{className:"w-8 h-8 text-blue-600"}),t("div",{children:[e("h3",{className:"text-lg font-bold text-gray-900",children:u.status==="approved"?"Account Approved":u.status==="rejected"?"Account Rejected":"Pending Approval"}),e("p",{className:"text-sm text-gray-600",children:u.status==="approved"?"Your account has been approved by HOD":u.status==="rejected"?"Your registration was not approved":"Waiting for HOD approval"})]})]}),t("div",{className:"grid grid-cols-3 gap-2 mt-4",children:[t("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[e("p",{className:"text-xs text-gray-500 mb-1",children:"Department"}),e("p",{className:"text-sm font-bold text-gray-900",children:u.department})]}),t("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[e("p",{className:"text-xs text-gray-500 mb-1",children:"Year"}),e("p",{className:"text-sm font-bold text-gray-900",children:u.year})]}),t("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[e("p",{className:"text-xs text-gray-500 mb-1",children:"Section"}),e("p",{className:"text-sm font-bold text-gray-900",children:u.section})]})]}),t("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[t("p",{className:"text-xs text-gray-600",children:["Requested: ",new Date(u.createdAt).toLocaleDateString()," at"," ",new Date(u.createdAt).toLocaleTimeString()]}),u.processedAt&&t("p",{className:"text-xs text-gray-600 mt-1",children:[u.status==="approved"?"Approved":"Rejected",": ",new Date(u.processedAt).toLocaleDateString()," at"," ",new Date(u.processedAt).toLocaleTimeString()]})]})]}),u.status==="pending"&&e("div",{className:"bg-blue-100 border border-blue-300 rounded-lg p-4",children:e("p",{className:"text-sm text-blue-800",children:"Your registration is under review. You will be notified once the HOD processes your request."})}),u.status==="rejected"&&e("div",{className:"bg-red-100 border border-red-300 rounded-lg p-4",children:e("p",{className:"text-sm text-red-800",children:"Please contact your HOD or administrator for more information."})})]}),n.length>0&&e(de,{children:t("div",{className:u?"mt-6 pt-4 border-t border-gray-200":"",children:[t("h3",{className:"text-sm font-bold text-gray-700 mb-3",children:["Late Arrivals (",n.length,")"]}),e("div",{className:"space-y-3",children:n.map(v=>{var m,p,A,R;return e(nt,{actions:[{label:"Record",icon:e(ke,{className:"w-5 h-5"}),onClick:()=>C(v),className:"bg-green-600 hover:bg-green-700 text-white"}],children:t("div",{className:"bg-gradient-to-br from-white to-amber-50 border-2 border-amber-200 rounded-lg p-3 hover:border-amber-400 transition-all",children:[t("div",{className:"flex items-start justify-between mb-2",children:[t("div",{children:[e("p",{className:"font-semibold text-gray-900",children:(m=v.data)==null?void 0:m.studentName}),e("p",{className:"text-xs text-gray-600",children:(p=v.data)==null?void 0:p.regNumber})]}),e("span",{className:"text-xs font-bold px-2 py-1 rounded-full bg-amber-100 text-amber-800",children:"Late"})]}),t("p",{className:"text-sm text-gray-700 mb-2",children:[e("strong",{children:"Reason:"})," ",(A=v.data)==null?void 0:A.reason]}),t("p",{className:"text-xs text-gray-600 mb-3",children:["Expected: ",new Date((R=v.data)==null?void 0:R.expectedArrivalTime).toLocaleString()]}),e("p",{className:"text-xs text-green-600 mb-3 font-semibold",children:"üëâ Student will confirm arrival in their dashboard"}),e("button",{onClick:()=>C(v),disabled:b===v._id,className:"hidden sm:flex w-full items-center justify-center gap-2 px-3 py-2 bg-green-600 hover:bg-green-700 disabled:opacity-50 text-white text-sm font-semibold rounded-lg transition-colors",children:b===v._id?t(de,{children:[t("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[e("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Recording..."]}):t(de,{children:[e(ke,{className:"w-4 h-4"}),"Record"]})})]})},v._id)})})]})}),!u&&n.length===0&&t("div",{className:"text-center py-12",children:[e("div",{className:"w-16 h-16 rounded-full bg-gray-100 mx-auto mb-4 flex items-center justify-center",children:e(ke,{className:"w-8 h-8 text-gray-400"})}),e("p",{className:"text-gray-600 font-medium",children:"All set!"}),e("p",{className:"text-sm text-gray-500 mt-1",children:"No pending notifications"})]})]})})]})});return Pe.createPortal(l,document.body)}console.log("[NotificationRequests] Rendering with userRole:",g,"requests count:",n.length,"loading:",d);const G=e("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",onClick:l=>{l.target===l.currentTarget&&r()},children:t("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",onClick:l=>l.stopPropagation(),children:[t("div",{className:"flex items-center justify-between px-4 sm:px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-theme-gold/10 to-theme-gold/5",children:[t("div",{className:"flex items-center gap-3",children:[e("div",{className:"w-10 h-10 rounded-full bg-theme-gold-gradient flex items-center justify-center",children:e(ze,{className:"w-5 h-5 text-white"})}),t("div",{children:[e("h2",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Requests"}),t("p",{className:"text-xs sm:text-sm text-gray-600",children:["Staff signups & leave/late - ",n.length," pending ",n.length===1?"request":"requests"]})]})]}),e("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Close",children:e(Me,{className:"w-5 h-5 text-gray-500"})})]}),e("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:d?e("div",{className:"flex items-center justify-center py-12",children:e("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-theme-gold"})}):n.length===0?t("div",{className:"text-center py-12",children:[e("div",{className:"w-16 h-16 rounded-full bg-gray-100 mx-auto mb-4 flex items-center justify-center",children:e(We,{className:"w-8 h-8 text-gray-400"})}),e("p",{className:"text-gray-600 font-medium",children:"No pending requests"}),e("p",{className:"text-sm text-gray-500 mt-1",children:"All requests have been processed"})]}):e("div",{className:"space-y-4",children:n.map(l=>{var m,p;return e(nt,{actions:[{label:"Reject",icon:e(st,{className:"w-5 h-5"}),onClick:()=>oe(l),className:"bg-red-600 hover:bg-red-700 text-white"},{label:"Accept",icon:e(We,{className:"w-5 h-5"}),onClick:()=>C(l),className:"bg-green-600 hover:bg-green-700 text-white"}],children:t("div",{className:"bg-gradient-to-br from-white to-gray-50 border-2 border-gray-200 rounded-xl p-4 sm:p-5 hover:border-theme-gold/30 transition-all duration-200",children:[e("div",{className:"mb-3 flex items-center justify-between",children:e("span",{className:"text-xs font-bold px-2 py-1 rounded-full ".concat(l.type==="staff_account_approval"?"bg-blue-100 text-blue-700":"bg-orange-100 text-orange-700"),children:l.type==="staff_account_approval"?"üë§ Staff Account":"üìã Leave Request"})}),l.type==="staff_account_approval"&&t("div",{className:"mb-4",children:[t("div",{className:"flex items-start justify-between mb-3",children:[t("div",{className:"flex-1",children:[e("h3",{className:"text-base sm:text-lg font-bold text-gray-900 mb-1",children:l.data.staffName}),e("p",{className:"text-sm text-gray-600 break-all",children:l.data.staffEmail}),l.data.phoneNumber&&t("p",{className:"text-sm text-gray-600 mt-1",children:["üì± ",l.data.phoneNumber]})]}),e("div",{className:"w-10 h-10 rounded-full bg-theme-gold-gradient flex items-center justify-center flex-shrink-0 ml-3",children:e("span",{className:"text-white font-bold text-sm",children:(m=l.data.staffName)==null?void 0:m.charAt(0).toUpperCase()})})]}),t("div",{className:"grid grid-cols-3 gap-2 sm:gap-3",children:[t("div",{className:"bg-white rounded-lg p-2 sm:p-3 border border-gray-200",children:[e("p",{className:"text-xs text-gray-500 mb-1",children:"Department"}),e("p",{className:"text-xs sm:text-sm font-bold text-gray-900",children:l.data.department})]}),t("div",{className:"bg-white rounded-lg p-2 sm:p-3 border border-gray-200",children:[e("p",{className:"text-xs text-gray-500 mb-1",children:"Year"}),e("p",{className:"text-xs sm:text-sm font-bold text-gray-900",children:l.data.year})]}),t("div",{className:"bg-white rounded-lg p-2 sm:p-3 border border-gray-200",children:[e("p",{className:"text-xs text-gray-500 mb-1",children:"Section"}),e("p",{className:"text-xs sm:text-sm font-bold text-gray-900",children:l.data.section})]})]})]}),l.type==="leave_request"&&t("div",{className:"mb-4",children:[t("div",{className:"flex items-start justify-between mb-4",children:[t("div",{className:"flex-1",children:[e("h3",{className:"text-base sm:text-lg font-bold text-gray-900 mb-2",children:l.data.studentName||"Unknown Student"}),t("div",{className:"space-y-1 text-sm",children:[t("p",{className:"text-gray-600",children:[e("span",{className:"text-gray-500",children:"Reg:"})," ",l.data.regNumber||"‚Äî"]}),t("p",{className:"text-gray-600 capitalize",children:[e("span",{className:"text-gray-500",children:"Leave Type:"})," ",l.data.type||"‚Äî"]})]})]}),e("div",{className:"w-12 h-12 rounded-full bg-orange-gradient flex items-center justify-center flex-shrink-0 ml-3",children:e("span",{className:"text-white font-bold text-lg",children:(p=l.data.studentName)==null?void 0:p.charAt(0).toUpperCase()})})]}),t("div",{className:"grid grid-cols-2 gap-2 sm:gap-3 mb-3",children:[t("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[e("p",{className:"text-xs text-gray-500 mb-1",children:"Year"}),e("p",{className:"text-sm font-bold text-gray-900",children:l.data.year||"‚Äî"})]}),t("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[e("p",{className:"text-xs text-gray-500 mb-1",children:"Section"}),e("p",{className:"text-sm font-bold text-gray-900",children:l.data.section||"‚Äî"})]}),t("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[e("p",{className:"text-xs text-gray-500 mb-1",children:"From"}),e("p",{className:"text-sm font-bold text-gray-900",children:l.data.startDate?new Date(l.data.startDate).toLocaleDateString("en-IN",{month:"short",day:"numeric"}):"‚Äî"})]}),t("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[e("p",{className:"text-xs text-gray-500 mb-1",children:"To"}),e("p",{className:"text-sm font-bold text-gray-900",children:l.data.endDate?new Date(l.data.endDate).toLocaleDateString("en-IN",{month:"short",day:"numeric"}):"‚Äî"})]})]}),l.data.reason&&t("div",{className:"bg-white rounded-lg p-3 border border-gray-200 mb-3",children:[e("p",{className:"text-xs text-gray-500 mb-1",children:"Reason"}),e("p",{className:"text-sm text-gray-700 line-clamp-2",children:l.data.reason})]})]}),t("p",{className:"text-xs text-gray-500 mb-3",children:["Requested ",new Date(l.createdAt).toLocaleDateString()," at"," ",new Date(l.createdAt).toLocaleTimeString()]}),t("div",{className:"hidden sm:flex gap-2 sm:gap-3",children:[t("button",{onClick:()=>C(l),disabled:b===l._id,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2.5 bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white rounded-lg font-semibold transition-all duration-200 text-sm sm:text-base",children:[e(We,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e("span",{children:b===l._id?"Processing...":"Accept"})]}),t("button",{onClick:()=>oe(l),disabled:b===l._id,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2.5 bg-red-600 hover:bg-red-700 disabled:bg-gray-400 text-white rounded-lg font-semibold transition-all duration-200 text-sm sm:text-base",children:[e(st,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e("span",{children:b===l._id?"Processing...":"Reject"})]})]})]})},l._id)})})})]})});return Pe.createPortal(G,document.body)}function Rr({src:a,alt:r="",className:s="",sizes:n="100vw",widths:o=null,lazy:d=!0}){if(!a)return null;const w=a.lastIndexOf("."),b=w===-1?a:a.slice(0,w),D=u=>Array.isArray(o)&&o.length>0?o.map(S=>"".concat(b,"-").concat(S,".").concat(u," ").concat(S,"w")).join(", "):"".concat(b,".").concat(u),g=D("avif"),y=D("webp");return t("picture",{className:s,children:[e("source",{type:"image/avif",srcSet:g,sizes:n}),e("source",{type:"image/webp",srcSet:y,sizes:n}),e("img",{src:a,alt:r,loading:d?"lazy":"eager",decoding:"async",style:{width:"100%",height:"100%",objectFit:"contain"}})]})}function Lr(){const a=qe(),r=ut(),s=["/login","/signup"].includes(a.pathname),[n,o]=i.useState(!1),[d,w]=i.useState(""),[b,D]=i.useState(""),[g,y]=i.useState(""),[u,S]=i.useState(!1),[j,C]=i.useState(!1),[oe,M]=i.useState(!1),[V,G]=i.useState(0),[l,v]=i.useState([]),[m,p]=i.useState(!1),[A,R]=i.useState(!1),[P,X]=i.useState("unknown"),[pe,me]=i.useState(()=>typeof window>"u"?!1:window.matchMedia("(max-width: 1023px)").matches),x=h=>a.pathname===h?"text-[#000000] text-sm font-bold leading-normal":"text-[#111418] text-sm font-medium leading-normal hover:text-[#000000] hover:font-bold transition-all duration-200",ae=i.useRef(null),ee=i.useRef(null);i.useEffect(()=>{te();const h=()=>{ee.current&&clearTimeout(ee.current),ee.current=setTimeout(()=>{me(window.matchMedia("(max-width: 1023px)").matches)},120)};h(),window.addEventListener("resize",h),window.addEventListener("orientationchange",h);const f=()=>{te();try{S(!1),C(!1)}catch(I){}};return window.addEventListener("authStateChanged",f),ae.current&&clearInterval(ae.current),ae.current=setInterval(()=>{if(n&&d&&(b==="hod"||b==="staff"||b==="admin"))if(typeof requestIdleCallback=="function")try{requestIdleCallback(()=>$(d,b),{timeout:2e3})}catch(I){$(d,b)}else $(d,b)},3e4),()=>{window.removeEventListener("authStateChanged",f),window.removeEventListener("resize",h),window.removeEventListener("orientationchange",h),ee.current&&(clearTimeout(ee.current),ee.current=null),ae.current&&clearInterval(ae.current)}},[n,d,b]),i.useEffect(()=>{if(typeof navigator<"u"&&navigator.serviceWorker){navigator.serviceWorker.getRegistrations().then(f=>{f&&f.length>0?X("registered"):navigator.serviceWorker.controller?X("controlled"):X("none")}).catch(()=>X("error"));const h=f=>{try{const I=f==null?void 0:f.data;if(!I)return;I.type==="SW_STATUS"&&X(I.status||"unknown")}catch(I){}};return navigator.serviceWorker.addEventListener&&navigator.serviceWorker.addEventListener("message",h),()=>{navigator.serviceWorker.removeEventListener&&navigator.serviceWorker.removeEventListener("message",h)}}},[n,b]);const te=()=>{const h=localStorage.getItem("auth");if(h)try{const f=JSON.parse(h);o(f.isAuthenticated||!1),w(f.email||""),D(f.role||""),(f.role==="hod"||f.role==="staff"||f.role==="admin")&&f.email&&$(f.email,f.role)}catch(f){console.error("Error parsing auth data:",f);const I=localStorage.getItem("isLoggedIn")==="true",L=localStorage.getItem("userEmail"),k=localStorage.getItem("userRole");o(I),w(L||""),D(k||""),(k==="hod"||k==="staff"||k==="admin")&&L&&$(L,k)}else{const f=localStorage.getItem("isLoggedIn")==="true",I=localStorage.getItem("userEmail"),L=localStorage.getItem("userRole");o(f),w(I||""),D(L||""),(L==="hod"||L==="staff"||L==="admin")&&I&&$(I,L)}},$=async(h,f)=>{var I,L,k,K,Y;try{if(f==="hod"){const N=JSON.parse(localStorage.getItem("auth")||"{}"),z=(N==null?void 0:N.id)||((I=N.user)==null?void 0:I.id),U=(N==null?void 0:N.department)||((L=N.user)==null?void 0:L.department);if(z&&U){const[ne,ce]=await Promise.all([W.get("/api/staff-approval?action=pending&hodId=".concat(z)),W.get("/api/leaves?department=".concat(U,"&type=leave"))]);let ue=0,ie=0;ne.success&&ne.requests&&(ue=ne.requests.length),ce.success&&ce.requests&&(ie=ce.requests.filter(re=>re.status==="requested").length),G(ue+ie)}}else if(f==="staff"){const N=JSON.parse(localStorage.getItem("auth")||"{}"),z=(N==null?void 0:N.year)||((k=N.user)==null?void 0:k.year),U=(N==null?void 0:N.section)||((K=N.user)==null?void 0:K.section),ne=(N==null?void 0:N.department)||((Y=N.user)==null?void 0:Y.department);let ce=0;const ue=await W.get("/api/notifications?userEmail=".concat(h));if(ue!=null&&ue.success&&ue.notifications.find(re=>{var we,fe,be;return re.type==="staff_account_approval"&&((we=re.data)==null?void 0:we.staffEmail)===h&&!re.read&&(((fe=re.data)==null?void 0:fe.status)==="approved"||((be=re.data)==null?void 0:be.status)==="rejected")})&&(ce+=1),z&&U&&ne)try{const ie=await W.get("/api/leaves?department=".concat(ne,"&type=late&status=requested"));if(ie.success&&ie.requests){const re=(ie.requests||[]).filter(we=>{var fe,be;return((fe=we.studentDetails)==null?void 0:fe.year)===z&&((be=we.studentDetails)==null?void 0:be.section)===U}).length;ce+=re}}catch(ie){console.error("Error fetching late arrivals:",ie)}G(ce)}else if(f==="admin"){const N=await W.get("/api/notifications?userEmail=".concat(encodeURIComponent(h)));if(N!=null&&N.success&&Array.isArray(N.notifications)){const z=N.notifications.filter(U=>!U.read).length;G(z)}}}catch(N){console.error("Error fetching notification count:",N)}},B=async h=>{if(y(h),!h.trim()){v([]),R(!1);return}p(!0),R(!0);try{const f=h.trim().toLowerCase(),I=localStorage.getItem("auth"),L=I?JSON.parse(I):null;if(!L){v([]),p(!1);return}const k=[];if(L.role==="staff"||L.role==="hod")try{let K="/api/marksheets?includeAll=true";if(L.role==="staff"){const N=L._id||L.id||localStorage.getItem("userId");K+="&staffId=".concat(N)}else L.role==="hod"&&(K+="&department=".concat(L.department));const Y=await W.get(K);Y.success&&Y.marksheets.filter(z=>{var ue,ie;const U=(((ue=z.studentDetails)==null?void 0:ue.name)||"").toLowerCase(),ne=(((ie=z.studentDetails)==null?void 0:ie.regNumber)||"").toLowerCase(),ce=(z.examinationName||"").toLowerCase();return U.includes(f)||ne.includes(f)||ce.includes(f)}).slice(0,5).forEach(z=>{var U,ne;k.push({type:"marksheet",id:z._id,title:((U=z.studentDetails)==null?void 0:U.name)||"Unknown Student",subtitle:"".concat(((ne=z.studentDetails)==null?void 0:ne.regNumber)||""," ‚Ä¢ ").concat(z.examinationName||""),status:z.status,link:"/marksheets/".concat(z._id)})})}catch(K){console.error("Error searching marksheets:",K)}if(L.role==="hod")try{const K=await W.get("/api/users?department=".concat(L.department));K.success&&K.users.filter(N=>{const z=(N.name||"").toLowerCase(),U=(N.email||"").toLowerCase();return z.includes(f)||U.includes(f)}).slice(0,3).forEach(N=>{k.push({type:"user",id:N._id,title:N.name||N.email,subtitle:"".concat(N.role||"Staff"," ‚Ä¢ ").concat(N.email||""),link:"/department-overview"})})}catch(K){console.error("Error searching users:",K)}v(k)}catch(f){console.error("Search error:",f),v([])}p(!1)},T=h=>{h==null||h.preventDefault(),g.trim()&&l.length>0?(r(l[0].link),y(""),v([]),R(!1)):g.trim()&&(r("/records?search=".concat(encodeURIComponent(g.trim()))),y(""),R(!1))},O=(h,f)=>{h.preventDefault(),h.stopPropagation(),R(!1),y(""),v([]),setTimeout(()=>{r(f)},0)};return t("header",{className:"sticky top-0 z-50 glass-card flex items-center justify-between whitespace-nowrap px-3 sm:px-4 md:px-6 lg:px-8 xl:px-10 py-3 sm:py-4 mx-2 sm:mx-3 md:mx-4 mt-2 sm:mt-3 md:mt-4",onMouseEnter:()=>{typeof document<"u"&&document.body.classList.add("header-hover-active")},onMouseLeave:()=>{typeof document<"u"&&document.body.classList.remove("header-hover-active")},children:[t("div",{className:"flex items-center gap-3 sm:gap-4 md:gap-6 lg:gap-8 flex-1 min-w-0",children:[t("div",{className:"flex items-center gap-2 md:gap-3 flex-shrink-0",children:[e("div",{className:"size-9 sm:size-10 md:size-10",children:e(Rr,{src:"/images/mseclogo.png",alt:"MSEC Logo",className:"w-full h-full",sizes:"(max-width:640px) 64px, 128px",widths:[64,128,256],lazy:!0})}),t("h2",{className:"text-base sm:text-lg md:text-xl font-bold leading-tight tracking-[-0.015em] whitespace-nowrap",children:[e("span",{className:"text-[#111418]",children:"MSEC"})," ",e("span",{className:"wave-text",children:"Academics"})]})]}),!s&&t("nav",{className:"hidden lg:flex items-center gap-4 xl:gap-5 2xl:gap-6 flex-shrink min-w-0",children:[n&&b==="student"?t(de,{children:[e(q,{className:x("/student"),to:"/student",title:"My Marksheets",children:"My Marksheets"}),e(q,{className:x("/leave"),to:"/leave",title:"Leave/Late",children:"Leave/Late"})]}):e(q,{className:x("/home"),to:"/home",title:"Dashboard",children:"Dashboard"}),n&&b==="staff"&&t(de,{children:[e(q,{className:x("/marksheets"),to:"/marksheets",title:"Marksheets",children:"Marksheets"}),t(q,{className:x("/dispatch-requests"),to:"/dispatch-requests",title:"Dispatch Requests",children:[e("span",{className:"hidden xl:inline",children:"Dispatch Requests"}),e("span",{className:"xl:hidden",children:"Dispatch"})]}),e(q,{className:x("/records"),to:"/records",title:"Records",children:"Records"})]}),n&&b==="hod"&&t(de,{children:[t(q,{className:x("/department-overview"),to:"/department-overview",title:"Department Overview",children:[e("span",{className:"hidden xl:inline",children:"Department Overview"}),e("span",{className:"xl:hidden",children:"Department"})]}),t(q,{className:x("/approval-requests"),to:"/approval-requests",title:"Approval Requests",children:[e("span",{className:"hidden xl:inline",children:"Approval Requests"}),e("span",{className:"xl:hidden",children:"Approvals"})]}),e(q,{className:x("/reports"),to:"/reports",title:"Reports",children:"Reports"})]}),!n||b!=="student"?e(q,{className:x("/contact"),to:"/contact",title:"Contact",children:"Contact"}):null]})]}),!s&&t("div",{className:"hidden lg:flex items-center gap-2 lg:gap-3 xl:gap-4 flex-shrink-0",children:[t("form",{onSubmit:T,className:"relative !h-9 lg:!h-10 w-40 lg:w-48 xl:w-64",children:[e("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-[#60758a] pointer-events-none z-10",children:e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18px",height:"18px",fill:"currentColor",viewBox:"0 0 256 256",className:"lg:w-5 lg:h-5",children:e("path",{d:"M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"})})}),e("input",{type:"text",value:g,onChange:h=>B(h.target.value),onFocus:()=>l.length>0&&R(!0),onBlur:()=>setTimeout(()=>R(!1),300),placeholder:"Search students, exams...",className:"form-input w-full h-full text-[#111418] focus:outline-0 focus:ring-0 border border-white/10 bg-white/30 backdrop-blur-sm placeholder:text-[#60758a] pl-9 lg:pl-10 pr-3 text-xs lg:text-sm font-normal leading-normal rounded-lg lg:rounded-xl relative z-0",onKeyPress:h=>{h.key==="Enter"&&T(h)}}),A&&l.length>0&&e("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-xl shadow-xl border border-gray-200 overflow-hidden z-50 max-h-96 overflow-y-auto",children:m?e("div",{className:"p-4 text-center text-gray-500 text-sm",children:"Searching..."}):t(de,{children:[l.map((h,f)=>e("button",{onClick:I=>O(I,h.link),onMouseDown:I=>I.preventDefault(),className:"w-full px-4 py-3 hover:bg-gray-50 text-left border-b border-gray-100 last:border-b-0 transition-colors",children:t("div",{className:"flex items-start gap-3",children:[e("div",{className:"mt-0.5 w-8 h-8 rounded-lg flex items-center justify-center flex-shrink-0 ".concat(h.type==="marksheet"?"bg-blue-100 text-blue-600":h.type==="user"?"bg-green-100 text-green-600":"bg-gray-100 text-gray-600"),children:h.type==="marksheet"?"üìÑ":h.type==="user"?"üë§":"üìã"}),t("div",{className:"flex-1 min-w-0",children:[e("div",{className:"font-medium text-gray-900 text-sm truncate",children:h.title}),e("div",{className:"text-xs text-gray-500 truncate",children:h.subtitle}),h.status&&e("span",{className:"inline-block mt-1 px-2 py-0.5 rounded text-xs ".concat(h.status==="draft"?"bg-gray-100 text-gray-700":h.status==="verified_by_staff"?"bg-blue-100 text-blue-700":h.status==="dispatch_requested"?"bg-yellow-100 text-yellow-700":h.status==="approved_by_hod"?"bg-green-100 text-green-700":h.status==="dispatched"?"bg-purple-100 text-purple-700":"bg-red-100 text-red-700"),children:h.status.replace(/_/g," ")})]})]})},f)),g&&t("button",{onClick:h=>{h.preventDefault(),h.stopPropagation(),R(!1),y(""),setTimeout(()=>{r("/records?search=".concat(encodeURIComponent(g.trim())))},0)},onMouseDown:h=>h.preventDefault(),className:"w-full px-4 py-3 bg-gray-50 hover:bg-gray-100 text-left text-sm text-blue-600 font-medium transition-colors",children:['View all results for "',g,'"']})]})})]}),e("div",{className:"flex items-center gap-1 lg:gap-2 flex-shrink-0",children:n?t("div",{className:"flex items-center gap-1 lg:gap-2 relative",children:[t("button",{onClick:()=>M(!0),className:"hidden lg:flex items-center justify-center w-9 lg:w-10 h-9 lg:h-10 rounded-lg hover:bg-[#f0f2f5] transition-colors relative",title:"Notifications",children:[e(Ue,{className:"w-5 h-5 text-[#60758a] hover:text-theme-gold transition-colors"}),V>0&&e("span",{className:"absolute -top-1 -right-1 min-w-[18px] h-[18px] px-1 bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center animate-pulse shadow-lg",children:V>9?"9+":V})]}),t("button",{onClick:()=>C(!j),className:"flex items-center gap-2 px-2 lg:px-3 h-9 lg:h-10 rounded-lg hover:bg-[#f0f2f5] transition-colors group",title:"Settings",children:[e("div",{className:"w-7 lg:w-8 h-7 lg:h-8 rounded-full bg-theme-gold-gradient flex items-center justify-center flex-shrink-0",children:e("span",{className:"text-xs lg:text-sm font-bold text-white",children:(()=>{var h;if(b==="student")try{const f=JSON.parse(localStorage.getItem("auth")||"{}");return((h=f==null?void 0:f.name)==null?void 0:h.charAt(0).toUpperCase())||"S"}catch(f){return"S"}return d==null?void 0:d.charAt(0).toUpperCase()})()})}),e("span",{className:"text-xs lg:text-sm font-medium text-[#111418] hidden xl:inline truncate max-w-[120px] lg:max-w-[150px] group-hover:text-theme-gold",children:d}),e("svg",{className:"w-3 lg:w-4 h-3 lg:h-4 text-[#60758a] transition-transform ".concat(j?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}):e(q,{to:"/login",className:"flex min-w-[60px] lg:min-w-[70px] cursor-pointer items-center justify-center overflow-hidden rounded-lg lg:rounded-xl h-9 lg:h-10 px-3 lg:px-4 bg-theme-gold hover:bg-theme-gold-500 text-white text-xs lg:text-sm font-bold leading-normal tracking-[0.015em] whitespace-nowrap transition-all duration-200",children:e("span",{className:"truncate",children:"Login"})})})]}),!s&&t("div",{className:"lg:hidden flex items-center gap-1",children:[n&&t("button",{onClick:()=>M(!0),className:"flex items-center justify-center p-1.5 sm:p-2 text-[#111418] hover:bg-gray-100 rounded-lg transition-colors duration-200 flex-shrink-0 relative","aria-label":"Notifications",children:[e(Ue,{className:"w-5 sm:w-6 h-5 sm:h-6"}),V>0&&e("span",{className:"absolute -top-1 -right-1 min-w-[18px] h-[18px] px-1 bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center animate-pulse shadow-lg",children:V>9?"9+":V})]}),e("button",{onClick:()=>C(!0),className:"flex items-center justify-center p-1.5 sm:p-2 text-[#111418] hover:bg-gray-100 rounded-lg transition-colors duration-200 flex-shrink-0","aria-label":"Open settings",children:e("svg",{className:"w-5 sm:w-6 h-5 sm:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})]}),!s&&u&&e("div",{className:"lg:hidden absolute top-full left-0 right-0 bg-white/95 backdrop-blur-md border-b border-[#f0f2f5] shadow-lg rounded-b-2xl mx-2 sm:mx-3 md:mx-4",children:t("div",{className:"flex flex-col p-4 sm:p-5 space-y-4 sm:space-y-5",children:[e("form",{onSubmit:T,className:"flex flex-col w-full",children:e("div",{className:"flex w-full items-stretch rounded-xl h-11 sm:h-12",children:t("div",{className:"relative w-full",children:[e("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 sm:pl-4 text-[#60758a] pointer-events-none z-10",children:e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18px",height:"18px",fill:"currentColor",viewBox:"0 0 256 256",className:"sm:w-5 sm:h-5",children:e("path",{d:"M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"})})}),e("input",{type:"text",value:g,onChange:h=>y(h.target.value),placeholder:"Search",className:"form-input w-full h-full text-[#111418] focus:outline-0 focus:ring-0 border border-gray-200 bg-gray-50 placeholder:text-[#60758a] pl-10 sm:pl-12 pr-3 sm:pr-4 text-sm sm:text-base font-normal leading-normal rounded-xl relative z-0"})]})})}),t("nav",{className:"flex flex-col space-y-2 sm:space-y-3",children:[e(q,{className:"text-[#111418] text-sm sm:text-base font-medium py-2.5 sm:py-3 px-3 sm:px-4 hover:text-theme-gold-500 hover:bg-theme-gold-50 rounded-lg transition-all duration-200 mobile-nav-item",to:"/home",onClick:()=>S(!1),children:"Dashboard"}),n&&b==="staff"&&t(de,{children:[e(q,{className:"text-[#111418] text-sm sm:text-base font-medium py-2.5 sm:py-3 px-3 sm:px-4 hover:text-theme-gold-500 hover:bg-theme-gold-50 rounded-lg transition-all duration-200 mobile-nav-item",to:"/marksheets",onClick:()=>S(!1),children:"Marksheets"}),e(q,{className:"text-[#111418] text-sm sm:text-base font-medium py-2.5 sm:py-3 px-3 sm:px-4 hover:text-theme-gold-500 hover:bg-theme-gold-50 rounded-lg transition-all duration-200 mobile-nav-item",to:"/dispatch-requests",onClick:()=>S(!1),children:"Dispatch Requests"}),e(q,{className:"text-[#111418] text-sm sm:text-base font-medium py-2.5 sm:py-3 px-3 sm:px-4 hover:text-theme-gold-500 hover:bg-theme-gold-50 rounded-lg transition-all duration-200 mobile-nav-item",to:"/records",onClick:()=>S(!1),children:"Records"})]}),n&&b==="hod"&&t(de,{children:[e(q,{className:"text-[#111418] text-sm sm:text-base font-medium py-2.5 sm:py-3 px-3 sm:px-4 hover:text-theme-gold-500 hover:bg-theme-gold-50 rounded-lg transition-all duration-200 mobile-nav-item",to:"/department-overview",onClick:()=>S(!1),children:"Department Overview"}),e(q,{className:"text-[#111418] text-sm sm:text-base font-medium py-2.5 sm:py-3 px-3 sm:px-4 hover:text-theme-gold-500 hover:bg-theme-gold-50 rounded-lg transition-all duration-200 mobile-nav-item",to:"/approval-requests",onClick:()=>S(!1),children:"Approval Requests"}),e(q,{className:"text-[#111418] text-sm sm:text-base font-medium py-2.5 sm:py-3 px-3 sm:px-4 hover:text-theme-gold-500 hover:bg-theme-gold-50 rounded-lg transition-all duration-200 mobile-nav-item",to:"/reports",onClick:()=>S(!1),children:"Reports"})]})]}),e("div",{className:"flex flex-col gap-3 sm:gap-4 pt-3 sm:pt-4 border-t border-[#f0f2f5]",children:n?t(de,{children:[t("button",{onClick:()=>{C(!j),S(!1)},className:"flex items-center gap-3 sm:gap-4 p-3 sm:p-4 rounded-xl bg-gray-50 hover:bg-gray-100 transition-colors duration-200",children:[e("div",{className:"w-10 sm:w-12 h-10 sm:h-12 rounded-full bg-theme-gold-gradient flex items-center justify-center flex-shrink-0",children:e("span",{className:"text-sm sm:text-base font-bold text-white",children:(()=>{var h;if(b==="student")try{const f=JSON.parse(localStorage.getItem("auth")||"{}");return((h=f==null?void 0:f.name)==null?void 0:h.charAt(0).toUpperCase())||"S"}catch(f){return"S"}return d==null?void 0:d.charAt(0).toUpperCase()})()})}),t("div",{className:"flex-1 text-left min-w-0",children:[e("p",{className:"text-sm sm:text-base font-medium text-[#111418] truncate",children:d}),e("p",{className:"text-xs sm:text-sm text-[#60758a] capitalize",children:b})]}),t("svg",{className:"w-4 sm:w-5 h-4 sm:h-5 text-[#60758a] flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})]}),b==="staff"&&e(q,{to:"/marksheets",className:"flex items-center justify-center rounded-xl h-11 sm:h-12 px-4 bg-theme-gold hover:bg-theme-gold-500 text-white text-sm sm:text-base font-bold mobile-btn tablet-btn desktop-btn transition-all duration-200",onClick:()=>S(!1),children:"Go to Marksheets"}),b==="hod"&&e(q,{to:"/approval-requests",className:"flex items-center justify-center rounded-xl h-11 sm:h-12 px-4 bg-theme-gold hover:bg-theme-gold-500 text-white text-sm sm:text-base font-bold mobile-btn tablet-btn desktop-btn transition-all duration-200",onClick:()=>S(!1),children:"Approval Requests"})]}):t("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[e(q,{to:"/login",className:"flex-1 flex items-center justify-center rounded-xl h-11 sm:h-12 px-4 bg-theme-gold hover:bg-theme-gold-500 text-white text-sm sm:text-base font-bold mobile-btn tablet-btn desktop-btn transition-all duration-200",onClick:()=>S(!1),children:"Login"}),e(q,{to:"/login",className:"flex-1 flex items-center justify-center rounded-xl h-11 sm:h-12 px-4 border-2 border-theme-gold text-theme-gold hover:bg-theme-gold hover:text-white text-sm sm:text-base font-bold transition-all duration-200",onClick:()=>S(!1),children:"Get Started"})]})})]})}),j&&e(Cr,{isOpen:j,onClose:()=>C(!1),userEmail:d,userRole:b,isMobile:pe}),e(_r,{isOpen:oe,onClose:()=>{M(!1),d&&b&&$(d,b)},setUnreadCount:G})]})}function Ar(){const a=qe(),[r,s]=i.useState(""),[n,o]=i.useState(!1),[d,w]=i.useState(0);i.useEffect(()=>{b();const u=()=>{b()};return window.addEventListener("authStateChanged",u),()=>window.removeEventListener("authStateChanged",u)},[]),i.useEffect(()=>{},[n]);const b=()=>{const u=localStorage.getItem("auth");if(u)try{const S=JSON.parse(u);o(S.isAuthenticated||!1),s(S.role||"")}catch(S){o(!1),s("")}},D=()=>{const u=[{name:"Home",path:"/home",icon:e("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}];return r==="staff"?[...u,{name:"Marksheets",path:"/marksheets",icon:e("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})},{name:"Requests",path:"/dispatch-requests",icon:e("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})},{name:"Records",path:"/records",icon:e("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}]:r==="hod"?[...u,{name:"Overview",path:"/department-overview",icon:e("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})},{name:"Approvals",path:"/approval-requests",icon:e("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})},{name:"Reports",path:"/reports",icon:e("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}]:r==="student"?[{name:"My Marksheets",path:"/student",icon:e("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})},{name:"Leave/Late",path:"/leave",icon:e("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}]:u},g=u=>u==="/home"?a.pathname==="/"||a.pathname==="/home":a.pathname.startsWith(u);if(!n)return null;const y=D();return e("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 z-40 bg-white/95 backdrop-blur-md border-t border-gray-200 shadow-lg safe-area-inset-bottom",style:{transform:"translateZ(0)",willChange:"transform"},children:e("div",{className:"flex items-center justify-around px-2 py-2",children:y.map(u=>t(q,{to:u.path,className:"flex flex-col items-center justify-center px-3 py-2 rounded-lg transition-all duration-200 min-w-[60px] ".concat(g(u.path)?"text-theme-gold bg-theme-gold-50":"text-gray-600 hover:text-theme-gold-500 hover:bg-gray-50"),children:[t("div",{className:"relative",children:[u.icon,u.name==="Profile"&&d>0&&e("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold",children:d>9?"9+":d})]}),e("span",{className:"text-xs mt-1 font-medium ".concat(g(u.path)?"font-bold":""),children:u.name})]},u.path))})})}const Ir=i.lazy(()=>J(()=>import("./Home-87ce2bed.js"),["assets/js/Home-87ce2bed.js","assets/js/react-vendor-ad4d5528.js"])),Dr=i.lazy(()=>J(()=>import("./ImportMarks-8e993d58.js"),["assets/js/ImportMarks-8e993d58.js","assets/js/react-vendor-ad4d5528.js"])),Pr=i.lazy(()=>J(()=>import("./Marksheets-aaed8cca.js"),["assets/js/Marksheets-aaed8cca.js","assets/js/react-vendor-ad4d5528.js","assets/js/ConfirmDialog-fc8aca83.js","assets/js/Confetti-9ac51eaf.js","assets/js/ContextualHelp-41fe2753.js","assets/js/resultUtils-190b400a.js","assets/js/usePullToRefresh-291be9c1.js"])),Mr=i.lazy(()=>J(()=>import("./MarksheetDetails-60939f42.js"),["assets/js/MarksheetDetails-60939f42.js","assets/js/react-vendor-ad4d5528.js","assets/js/resultUtils-190b400a.js"])),jr=i.lazy(()=>J(()=>import("./DispatchRequests-4bf0a569.js"),["assets/js/DispatchRequests-4bf0a569.js","assets/js/react-vendor-ad4d5528.js","assets/js/RefreshButton-4223bdd0.js","assets/js/usePullToRefresh-291be9c1.js"])),Tr=i.lazy(()=>J(()=>import("./Records-e693b164.js"),["assets/js/Records-e693b164.js","assets/js/react-vendor-ad4d5528.js","assets/js/resultUtils-190b400a.js"])),Or=i.lazy(()=>J(()=>import("./DepartmentOverview-99ea6b43.js"),["assets/js/DepartmentOverview-99ea6b43.js","assets/js/react-vendor-ad4d5528.js"])),zr=i.lazy(()=>J(()=>import("./ApprovalRequests-fa2f20c7.js"),["assets/js/ApprovalRequests-fa2f20c7.js","assets/js/react-vendor-ad4d5528.js","assets/js/RefreshButton-4223bdd0.js","assets/js/Confetti-9ac51eaf.js","assets/js/ContextualHelp-41fe2753.js","assets/js/usePullToRefresh-291be9c1.js"])),Wr=i.lazy(()=>J(()=>import("./Reports-ee9899a9.js"),["assets/js/Reports-ee9899a9.js","assets/js/react-vendor-ad4d5528.js","assets/js/ContextualHelp-41fe2753.js","assets/js/resultUtils-190b400a.js"])),$r=i.lazy(()=>J(()=>import("./Login-e3f64c33.js"),["assets/js/Login-e3f64c33.js","assets/js/react-vendor-ad4d5528.js"])),Br=i.lazy(()=>J(()=>import("./SignUp-355fe05c.js"),["assets/js/SignUp-355fe05c.js","assets/js/react-vendor-ad4d5528.js"])),Ur=i.lazy(()=>J(()=>import("./Contact-451352f1.js"),["assets/js/Contact-451352f1.js","assets/js/react-vendor-ad4d5528.js"])),qr=i.lazy(()=>J(()=>import("./StudentDashboard-f145ae06.js"),["assets/js/StudentDashboard-f145ae06.js","assets/js/react-vendor-ad4d5528.js"])),Fr=i.lazy(()=>J(()=>import("./Leave-a359e8ee.js"),["assets/js/Leave-a359e8ee.js","assets/js/react-vendor-ad4d5528.js","assets/js/Confetti-9ac51eaf.js","assets/js/ConfirmDialog-fc8aca83.js"])),Hr=i.lazy(()=>J(()=>import("./LeaveApprovals-07471b0a.js"),["assets/js/LeaveApprovals-07471b0a.js","assets/js/react-vendor-ad4d5528.js","assets/js/usePullToRefresh-291be9c1.js"])),Vr=i.lazy(()=>J(()=>import("./LateAcknowledgment-46b30cdf.js"),["assets/js/LateAcknowledgment-46b30cdf.js","assets/js/react-vendor-ad4d5528.js"])),Jr=i.lazy(()=>J(()=>import("./PrivacyPolicy-2c617a3d.js"),["assets/js/PrivacyPolicy-2c617a3d.js","assets/js/react-vendor-ad4d5528.js"])),Yr=i.lazy(()=>J(()=>import("./TermsOfService-aff45f09.js"),["assets/js/TermsOfService-aff45f09.js","assets/js/react-vendor-ad4d5528.js"])),Gr=i.lazy(()=>J(()=>import("./FAQ-c70ff3dd.js"),["assets/js/FAQ-c70ff3dd.js","assets/js/react-vendor-ad4d5528.js"])),Kr=i.lazy(()=>J(()=>import("./NotFound-058d41e3.js"),["assets/js/NotFound-058d41e3.js","assets/js/react-vendor-ad4d5528.js"])),Zr=i.lazy(()=>J(()=>import("./AdminDashboard-73dc9d07.js"),["assets/js/AdminDashboard-73dc9d07.js","assets/js/react-vendor-ad4d5528.js","assets/js/ConfirmDialog-fc8aca83.js"])),Xr=()=>{const a=localStorage.getItem("auth");if(!a)return e(he,{to:"/login",replace:!0});const r=JSON.parse(a);return(r==null?void 0:r.role)==="student"?e(he,{to:"/student",replace:!0}):(r==null?void 0:r.role)==="admin"?e(he,{to:"/admin-dashboard",replace:!0}):e(he,{to:"/home",replace:!0})},Qr=()=>{const a=localStorage.getItem("auth");if(!a)return e(he,{to:"/login",replace:!0});const r=JSON.parse(a);return(r==null?void 0:r.role)==="student"?e(he,{to:"/student",replace:!0}):(r==null?void 0:r.role)==="admin"?e(he,{to:"/admin-dashboard",replace:!0}):e(Ir,{})},ea=()=>{const a=localStorage.getItem("auth");if(!a)return e(he,{to:"/login",replace:!0});const r=JSON.parse(a);return(r==null?void 0:r.role)!=="student"?e(he,{to:"/home",replace:!0}):e(qr,{})},ta=()=>{const a=localStorage.getItem("auth");if(!a)return e(he,{to:"/login",replace:!0});const r=JSON.parse(a);return(r==null?void 0:r.role)!=="admin"?e(he,{to:"/home",replace:!0}):e(Zr,{})};function ra(){const a=qe(),r=a.pathname==="/login"||a.pathname==="/signup";return i.useEffect(()=>{if(!r)document.body.style.backgroundImage="none";else try{const s="image-set(url('/images/campus.avif') type('image/avif') 1x, url('/images/campus.webp') type('image/webp') 1x, url('/images/campus.jpeg') 1x)";typeof CSS<"u"&&CSS.supports&&CSS.supports("background-image",s)?document.body.style.backgroundImage=s:typeof CSS<"u"&&CSS.supports&&CSS.supports("background-image","url('/images/campus.webp')")?document.body.style.backgroundImage="url('/images/campus.webp')":document.body.style.backgroundImage="url('/images/campus.jpeg')"}catch(s){document.body.style.backgroundImage="url('/images/campus.jpeg')"}},[r]),i.useEffect(()=>{W.get("/api/generate-pdf?test=true").catch(()=>{})},[]),t(de,{children:[t("div",{className:"flex w-full flex-col smooth-scroll ".concat(r?"relative":""),style:{fontFamily:"Inter, Manrope, sans-serif",WebkitOverflowScrolling:"touch",transform:"translateZ(0)"},children:[r&&e("div",{className:"fixed inset-0 bg-black/40 z-0"}),t("div",{className:"layout-container flex h-full grow flex-col max-w-full ".concat(r?"relative z-10":"bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50"),children:[e(Lr,{}),e("div",{className:"flex flex-1 justify-center w-full",children:e("div",{className:"layout-content-container flex flex-col w-full max-w-full ".concat(r?"":"pb-20 md:pb-0"),children:t(At,{children:[e(H,{path:"/",element:e(Xr,{})}),e(H,{path:"/home",element:e(i.Suspense,{fallback:e(Ae,{}),children:e(Qr,{})})}),e(H,{path:"/student",element:e(i.Suspense,{fallback:e(Ae,{}),children:e(ea,{})})}),e(H,{path:"/admin-dashboard",element:e(i.Suspense,{fallback:e(Ae,{}),children:e(ta,{})})}),e(H,{path:"/leave",element:e(i.Suspense,{fallback:e(tt,{}),children:e(Fr,{})})}),e(H,{path:"/import-marks",element:e(i.Suspense,{fallback:e(tt,{}),children:e(Dr,{})})}),e(H,{path:"/marksheets",element:e(i.Suspense,{fallback:e(et,{}),children:e(Pr,{})})}),e(H,{path:"/marksheets/:id",element:e(i.Suspense,{fallback:e(Bt,{}),children:e(Mr,{})})}),e(H,{path:"/dispatch-requests",element:e(i.Suspense,{fallback:e(Ut,{}),children:e(jr,{})})}),e(H,{path:"/records",element:e(i.Suspense,{fallback:e(qt,{}),children:e(Tr,{})})}),e(H,{path:"/department-overview",element:e(i.Suspense,{fallback:e(Ae,{}),children:e(Or,{})})}),e(H,{path:"/approval-requests",element:e(i.Suspense,{fallback:e(rt,{}),children:e(zr,{})})}),e(H,{path:"/leave-approvals",element:e(i.Suspense,{fallback:e(rt,{}),children:e(Hr,{})})}),e(H,{path:"/late-acknowledgment",element:e(i.Suspense,{fallback:e(et,{}),children:e(Vr,{})})}),e(H,{path:"/reports",element:e(i.Suspense,{fallback:e(Ft,{}),children:e(Wr,{})})}),e(H,{path:"/login",element:e(i.Suspense,{fallback:e(Wt,{}),children:e($r,{})})}),e(H,{path:"/signup",element:e(i.Suspense,{fallback:e($t,{}),children:e(Br,{})})}),e(H,{path:"/contact",element:e(i.Suspense,{fallback:e(Yt,{}),children:e(Ur,{})})}),e(H,{path:"/privacy-policy",element:e(i.Suspense,{fallback:e(Vt,{}),children:e(Jr,{})})}),e(H,{path:"/terms-of-service",element:e(i.Suspense,{fallback:e(Jt,{}),children:e(Yr,{})})}),e(H,{path:"/faq",element:e(i.Suspense,{fallback:e(Ht,{}),children:e(Gr,{})})}),e(H,{path:"*",element:e(i.Suspense,{fallback:e(Gt,{}),children:e(Kr,{})})})]})})})]})]}),!r&&e(Ar,{})]})}function it(){return e(Kt,{children:e(vr,{children:e(Lt,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:e(ra,{})})})})}window.addEventListener("unhandledrejection",a=>{var r,s,n,o;if((s=(r=a.reason)==null?void 0:r.message)!=null&&s.includes("Receiving end does not exist")||(o=(n=a.reason)==null?void 0:n.message)!=null&&o.includes("Could not establish connection")){a.preventDefault();return}});var ct,dt;typeof navigator<"u"&&"serviceWorker"in navigator&&((dt=(ct=navigator.serviceWorker).addEventListener)==null||dt.call(ct,"message",a=>{try{const r=a&&a.data?a.data:null;if(!r||!r.type)return;if(r.type==="RELOAD_REQUEST"){console.info("Service worker requested reload (dispatching event):",r.reason||"unknown");try{window.dispatchEvent(new CustomEvent("sw:reload-request",{detail:{reason:r.reason}}))}catch(s){setTimeout(()=>{try{window.location.reload()}catch(n){}},150)}}}catch(r){}}));const bt=document.getElementById("root");if(!bt)throw new Error("Root element not found");const lt=Be.createRoot(bt);try{lt.render(e(mt.StrictMode,{children:e(it,{})}))}catch(a){console.error("Failed to render app:",a),lt.render(e(it,{}))}if(typeof window<"u"){async function a(){try{if("serviceWorker"in navigator){try{const r=await navigator.serviceWorker.getRegistrations();console.info("[sw-debug] registrations:",r.map(s=>({scope:s.scope,active:!!s.active,waiting:!!s.waiting})))}catch(r){console.warn("[sw-debug] getRegistrations failed",r)}try{console.info("[sw-debug] controller:",navigator.serviceWorker.controller)}catch(r){}}else console.info("[sw-debug] serviceWorker not supported in this browser");if("caches"in window)try{const r=await caches.keys();console.info("[sw-debug] CacheStorage keys:",r);for(const s of r)try{const o=await(await caches.open(s)).keys();console.info("[sw-debug] cache:".concat(s," entries:"),o.map(d=>d.url).slice(0,50))}catch(n){console.warn("[sw-debug] reading cache",s,n)}}catch(r){console.warn("[sw-debug] caches.keys failed",r)}else console.info("[sw-debug] CacheStorage not available")}catch(r){console.error("[sw-debug] unexpected error",r)}}setTimeout(()=>{a().catch(()=>{})},300),window.debugSWStatus=a}typeof navigator<"u"&&"serviceWorker"in navigator&&(async()=>{try{const a=await navigator.serviceWorker.getRegistrations();if(a&&a.length>0)console.info("[sw-auto] already registered",a.map(r=>r.scope));else{console.info("[sw-auto] attempting to register /service-worker.js");try{const r=await navigator.serviceWorker.register("/service-worker.js",{scope:"/"});console.info("[sw-auto] registration success",r.scope,r),await navigator.serviceWorker.ready,console.info("[sw-auto] service worker ready"),setTimeout(()=>{window.debugSWStatus&&window.debugSWStatus().catch(()=>{})},200)}catch(r){console.warn("[sw-auto] registration failed",r)}}}catch(a){console.warn("[sw-auto] failed to check/register",a)}})();typeof window<"u"&&(window.findCoveringElements=()=>{try{const r=Array.from(document.body.querySelectorAll("*")).filter(n=>{const o=n.getBoundingClientRect();return o.width>0&&o.height>0&&o.top<=0&&o.left<=0&&o.right>=window.innerWidth&&o.bottom>=window.innerHeight}),s=r.map(n=>({tag:n.tagName,id:n.id||null,class:n.className||null,zIndex:getComputedStyle(n).zIndex,pointerEvents:getComputedStyle(n).pointerEvents,position:getComputedStyle(n).position}));return console.info("[debug] covering elements:",s),r}catch(a){return console.warn("[debug] findCoveringElements failed",a),[]}},window.toggleCoveringPointerEvents=()=>{const a=window.findCoveringElements();a.forEach(r=>{try{const s=r.style.pointerEvents||getComputedStyle(r).pointerEvents;r.dataset.__origPointer=r.dataset.__origPointer||s,r.style.pointerEvents=s==="none"?r.dataset.__origPointer||"":"none"}catch(s){}}),console.info("[debug] toggled pointer-events on",a.length,"elements")},window.forceTempScroll=(a=2e3)=>{const r=document.documentElement.style.overflow,s=document.body.style.overflow;document.documentElement.style.overflow="auto",document.body.style.overflow="auto",console.info("[debug] forced overflow:auto for",a,"ms"),setTimeout(()=>{document.documentElement.style.overflow=r,document.body.style.overflow=s,console.info("[debug] restored overflow")},a)},window.addEventListener("keydown",a=>{a.ctrlKey&&a.shiftKey&&a.key.toLowerCase()==="d"&&(a.preventDefault(),window.findCoveringElements()),a.ctrlKey&&a.shiftKey&&a.key.toLowerCase()==="f"&&(a.preventDefault(),window.toggleCoveringPointerEvents()),a.ctrlKey&&a.shiftKey&&a.key.toLowerCase()==="s"&&(a.preventDefault(),window.forceTempScroll(2e3))}),window.disableVisualEffects=()=>{if(document.getElementById("debug-disable-visuals"))return;const a=document.createElement("style");a.id="debug-disable-visuals",a.innerHTML='\n      .backdrop-blur-sm, [class*="backdrop-blur"], .backdrop-blur-md, .glass-card, .settings-modal, .notification-card, .notification-container {\n        backdrop-filter: none !important;\n        -webkit-backdrop-filter: none !important;\n      }\n      * {\n        filter: none !important;\n        will-change: auto !important;\n        transform: none !important;\n      }\n    ',document.head.appendChild(a),console.info("[debug] visual effects disabled")},window.restoreVisualEffects=()=>{const a=document.getElementById("debug-disable-visuals");a&&a.remove(),console.info("[debug] visual effects restored")},window.startTouchTrace=(a=200)=>{if(window.__touchTraceRunning)return console.info("[touch-trace] already running");window.__touchTrace=[],window.__touchTraceRunning=!0;const r=s=>{try{const n=s.touches&&s.touches[0]?s.touches[0]:s.changedTouches&&s.changedTouches[0]||{},o={time:Date.now(),type:s.type,target:s.target&&(s.target.tagName||s.target.nodeName),id:s.target&&(s.target.id||null),class:s.target&&(s.target.className||null),x:n.clientX||null,y:n.clientY||null,defaultPrevented:s.defaultPrevented};window.__touchTrace.push(o),window.__touchTrace.length>a&&window.__touchTrace.shift(),console.debug("[touch-trace]",o.type,o.target,"dp=",o.defaultPrevented)}catch(n){}};window.__touchTraceHandlers={touchstart:s=>r(s),touchmove:s=>r(s),touchend:s=>r(s)},document.addEventListener("touchstart",window.__touchTraceHandlers.touchstart,{passive:!0}),document.addEventListener("touchmove",window.__touchTraceHandlers.touchmove,{passive:!0}),document.addEventListener("touchend",window.__touchTraceHandlers.touchend,{passive:!0}),console.info("[touch-trace] started (check window.__touchTrace for recent events)")},window.stopTouchTrace=()=>{if(!window.__touchTraceRunning)return console.info("[touch-trace] not running");document.removeEventListener("touchstart",window.__touchTraceHandlers.touchstart),document.removeEventListener("touchmove",window.__touchTraceHandlers.touchmove),document.removeEventListener("touchend",window.__touchTraceHandlers.touchend),window.__touchTraceRunning=!1,console.info("[touch-trace] stopped")});export{ke as C,de as F,Rr as R,nt as S,Me as X,sa as __vite_legacy_guard,W as a,t as b,ge as c,Er as d,na as e,lr as f,or as g,e as j,xr as u};
