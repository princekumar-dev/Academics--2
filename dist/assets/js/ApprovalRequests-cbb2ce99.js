import{u as we,d as ve,e as Ne,a as $,j as t,b as r,F as Se,S as qe,_ as pe,g as he}from"./index-ba65f9b1.js";import{r as l,u as Ce}from"./react-vendor-ad4d5528.js";import{R as _e}from"./RefreshButton-efbc2ae6.js";import{u as Ae}from"./Confetti-08d02b59.js";import{H as Ee}from"./ContextualHelp-f7e4e1d9.js";import{u as De,P as Ie}from"./usePullToRefresh-466afb4d.js";function He(){const{showSuccess:f,showError:x,showWarning:P}=we(),{celebrate:w,ConfettiContainer:ae}=Ae(),[a,W]=l.useState(()=>{try{const e=localStorage.getItem("auth");return e?JSON.parse(e):null}catch(e){return console.error("Failed to parse auth data:",e),null}}),[N,I]=l.useState([]),[G,S]=l.useState(!0),[j,ie]=l.useState("all"),[h,J]=l.useState({open:!1,type:null,marksheet:null,anchorRect:null}),[oe,Q]=l.useState(!1),[U,q]=l.useState(""),[X,B]=l.useState(""),[R,K]=l.useState(!1),[Z,Y]=l.useState(!1),[le,V]=l.useState([]),ee={AI_DS:"AI & DS",CSE:"CSE",IT:"IT",ECE:"ECE",EEE:"EEE",MECH:"MECH",CIVIL:"CIVIL",HNS:"H&S"},te={CSE:"bg-blue-100 text-blue-800",AI_DS:"bg-indigo-100 text-indigo-800",ECE:"bg-teal-100 text-teal-800",IT:"bg-green-100 text-green-800",MECH:"bg-amber-100 text-amber-800",CIVIL:"bg-red-100 text-red-800",EEE:"bg-purple-100 text-purple-800",HNS:"bg-yellow-50 text-yellow-800"},c=Ce(),b=async()=>{await y(),f("ðŸ”„ Refreshed","Approval requests updated")},{isPulling:C,isRefreshing:F,pullDistance:de,containerRef:L,threshold:z}=De(b,{enabled:!0,threshold:80}),M=async()=>{if(a)try{const e=new URLSearchParams({department:a.department,type:"leave"}),s=await $.get("/api/leaves?".concat(e.toString()));if(s.success){const n=(s.requests||[]).filter(u=>u.status==="requested");V(n)}else V([])}catch(e){console.error("Error fetching leave requests:",e),V([])}};l.useEffect(()=>{(a==null?void 0:a.role)==="hod"?(y(),M()):S(!1);const e=()=>{try{const s=localStorage.getItem("auth"),n=s?JSON.parse(s):null;W(n),(n==null?void 0:n.role)==="hod"&&(y(!0),M(!0))}catch(s){console.error("[ApprovalRequests] authStateChanged handler error:",s)}};return window.addEventListener("authStateChanged",e),()=>window.removeEventListener("authStateChanged",e)},[a]),ve({leave_request:()=>{console.log("ðŸ”” Leave request notification triggered refresh"),M()},leave_approval:()=>{console.log("ðŸ”” Leave approval notification triggered refresh"),M()},marksheet_approval:()=>{console.log("ðŸ”” Marksheet approval notification triggered refresh"),y()},dispatch_request:()=>{console.log("ðŸ”” Dispatch request notification triggered refresh"),y()}}),Ne(()=>{y(),M()});const y=async(e=!1)=>{if(a){S(!0);try{let s;const n=e?{cache:!1,dedupe:!1}:{};a.department==="HNS"?(console.log("[ApprovalRequests] HNS HOD detected â€” fetching Year I pending requests across departments"),s=await $.get("/api/marksheets?year=I&status=dispatch_requested",n)):(console.log("[ApprovalRequests] Fetching with department:",a.department),s=await $.get("/api/marksheets?department=".concat(a.department,"&status=dispatch_requested"),n)),console.log("[ApprovalRequests] Response:",s),s&&s.success?I(s.marksheets):I([])}catch(s){console.error("Error fetching pending requests:",s),I([])}finally{S(!1)}}},k=async()=>{try{if(a!=null&&a.eSignature)return a;const e=(a==null?void 0:a._id)||(a==null?void 0:a.id);if(!e)return null;const s=await $.get("/api/users?action=profile&userId=".concat(e));if(s!=null&&s.success&&s.user){const n={...a,...s.user};try{localStorage.setItem("auth",JSON.stringify(n))}catch(u){}return W(n),n}}catch(e){console.error("[ApprovalRequests] Failed to refresh HOD profile:",e)}return a},se=async()=>{Y(!0);try{await y()}finally{Y(!1)}},T=(e,s,n)=>{var v;const u=typeof window<"u",p=(v=e==null?void 0:e.currentTarget)==null?void 0:v.getBoundingClientRect(),m=p&&u?{top:p.top+window.scrollY,left:p.left+window.scrollX,width:p.width,height:p.height}:null;q(""),J({open:!0,type:n,marksheet:s,anchorRect:m})},re=()=>{J({open:!1,type:null,marksheet:null,anchorRect:null}),q("")},me=async({comments:e})=>{var s,n;if(!(!h.marksheet||!h.type))try{Q(!0);const u=await k();if(!(u!=null&&u.eSignature)){x("Signature Missing","Please add your signature in Settings before approving requests"),Q(!1);return}const p=a._id||a.id,m=await $.post("/api/marksheets?action=hod-response",{marksheetId:h.marksheet._id,hodId:p,response:h.type,comments:e});if(!m||!m.success)throw new Error((m==null?void 0:m.error)||"Failed to submit response");const v=h.type==="approved"?"approved":"rejected",E=((n=(s=h.marksheet)==null?void 0:s.studentDetails)==null?void 0:n.name)||"Student";B("Dispatch request ".concat(v," successfully.")),h.type==="approved"?f("âœ“ Approved","Dispatch approved for ".concat(E)):P("Request Rejected","Dispatch rejected for ".concat(E)),re();try{I(d=>d.filter(g=>g._id!==h.marksheet._id))}catch(d){}try{pe(()=>import("./notificationEvents-12cfbdaf.js"),[]).then(d=>d.notifyNotificationsUpdated())}catch(d){try{window.dispatchEvent(new Event("notificationsUpdated"))}catch(g){}}try{window.dispatchEvent(new Event("marksheetsUpdated"))}catch(d){}try{window.refreshNotificationCount&&window.refreshNotificationCount()}catch(d){}await y(!0)}catch(u){const p=he(u,"Could not process the request.");q(p),x("Action Failed",p)}finally{Q(!1)}},ue=async e=>{const s=H.filter(n=>n.status==="dispatch_requested");if(s.length===0){B("No pending requests available for bulk ".concat(e,"."));return}try{const n=await k();if(!(n!=null&&n.eSignature)){x("Signature Missing","Please add your signature in Settings before approving requests");return}K(!0),q("");const u=a._id||a.id,p=async(i,o,_=6)=>{const A=new Array(i.length);let D=0;const ce=Array.from({length:Math.min(_,i.length)},async()=>{for(;;){const O=D;if(O>=i.length)break;D+=1;const ye=i[O];try{A[O]=await o(ye)}catch(ne){A[O]={success:!1,error:ne&&ne.message?ne.message:String(ne)}}}});return await Promise.all(ce),A},m=async(i,o=2,_=500)=>{let A=null;for(let D=0;D<o;D++)try{return await i()}catch(ce){A=ce,D<o-1&&await new Promise(O=>setTimeout(O,_*Math.pow(2,D)))}throw A},E=await p(s,async i=>{try{const o={marksheetId:i._id,hodId:u,response:e,comments:""};return await m(()=>$.post("/api/marksheets?action=hod-response",o,{timeout:6e4}),2,500)||{success:!1}}catch(o){return{success:!1,error:o&&o.message?o.message:String(o)}}},6);let d=E.filter(i=>i&&i.success).length,g=E.length-d;if(d===0)try{const i=s.map(_=>_._id);let o;if(a.department==="HNS"?o=await $.get("/api/marksheets?year=I&status=dispatch_requested",{cache:!1,dedupe:!1}):o=await $.get("/api/marksheets?department=".concat(a.department,"&status=dispatch_requested"),{cache:!1,dedupe:!1}),o&&o.success&&Array.isArray(o.marksheets)){const _=o.marksheets.filter(D=>i.includes(D._id)).length,A=i.length-_;A>0&&(d=A,g=i.length-A)}}catch(i){}if(d>0){const i="Successfully ".concat(e," ").concat(d," request").concat(d>1?"s":"",".").concat(g>0?" ".concat(g," failed."):"");B(i),f("Bulk ".concat(e.charAt(0).toUpperCase()+e.slice(1)),"".concat(d,"/").concat(E.length," requests processed successfully")),g===0&&w()}else{const i="Failed to ".concat(e.slice(0,-1)," any requests. Please try again.");q(i),x("Bulk Action Failed",i)}try{I(i=>i.filter(o=>!s.some(_=>_._id===o._id)))}catch(i){}try{pe(()=>import("./notificationEvents-12cfbdaf.js"),[]).then(i=>i.notifyNotificationsUpdated())}catch(i){try{window.dispatchEvent(new Event("notificationsUpdated"))}catch(o){}}try{window.dispatchEvent(new Event("marksheetsUpdated"))}catch(i){}try{window.refreshNotificationCount&&window.refreshNotificationCount()}catch(i){}await y(!0)}catch(n){q(he(n,"Failed to perform bulk ".concat(e,". Please try again.")))}finally{K(!1)}},ge=l.useMemo(()=>[{id:"all",label:"All",count:N.length},{id:"dispatch_requested",label:"Pending",count:N.filter(e=>e.status==="dispatch_requested").length}],[N]),H=l.useMemo(()=>(j==="all"?N:N.filter(s=>s.status===j)).sort((s,n)=>{var m,v;const u=(((m=s.studentDetails)==null?void 0:m.regNumber)||"").toString().toLowerCase(),p=(((v=n.studentDetails)==null?void 0:v.regNumber)||"").toString().toLowerCase();return u.localeCompare(p,void 0,{numeric:!0,sensitivity:"base"})}),[N,j]),fe={dispatch_requested:"bg-yellow-100 text-yellow-800",approved_by_hod:"bg-green-100 text-green-800",rejected_by_hod:"bg-red-100 text-red-800",dispatched:"bg-purple-100 text-purple-800"},be={dispatch_requested:"â³",approved_by_hod:"âœ…",rejected_by_hod:"â›”",dispatched:"ðŸ“¤"},xe=(e={})=>{const s=(e.year||"").toString(),n=(e.section||"").toString();return!s&&!n?"N/A":n?s?"".concat(s,"-").concat(n):n:s};return!a||a.role!=="hod"?t("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 flex items-center justify-center",children:r("div",{className:"glass-card p-8 rounded-3xl text-center",children:[t("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),t("p",{className:"text-gray-600",children:"Only HODs can approve dispatch requests."})]})}):r("div",{ref:L,className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[t(Ie,{pullDistance:de,threshold:z,isRefreshing:F}),t("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r("div",{className:"max-w-6xl mx-auto",children:[r("div",{className:"text-center mb-8",children:[t("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-black text-gray-900 mb-4",children:"Approval Requests"}),r("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:["Review and approve dispatch requests for ",a.department," Department"]})]}),le.length>0&&t("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-xl",children:r("p",{className:"text-sm text-blue-700",children:["ðŸ’¡ ",t("strong",{children:"Note:"})," Leave request approvals have been moved to your notification inbox. Click the ðŸ”” bell icon to review leave requests alongside staff account approvals."]})}),t("div",{className:"glass-card p-4 sm:p-6 md:p-8 rounded-2xl md:rounded-3xl mb-8",children:G?r("div",{className:"text-center py-12",children:[t("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),t("p",{className:"text-gray-600",children:"Loading pending requests..."})]}):N.length===0?r("div",{className:"text-center py-12",children:[t("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),t("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No pending requests"}),t("p",{className:"text-gray-600",children:"All dispatch requests have been processed"})]}):r(Se,{children:[t("div",{className:"flex flex-wrap items-center gap-3 mb-6",children:ge.map(e=>r("button",{onClick:()=>ie(e.id),className:"px-4 py-2 rounded-full text-sm font-medium border transition-all duration-200 ".concat(j===e.id?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-200 hover:border-blue-400"),children:[e.label,t("span",{className:"ml-2 inline-flex items-center justify-center px-2 py-0.5 rounded-full text-xs font-semibold ".concat(j===e.id?"bg-white/25 text-white":"bg-gray-100 text-gray-700"),children:e.count})]},e.id))}),X&&t("div",{className:"mb-6 rounded-xl border border-green-200 bg-green-50 px-4 py-3 text-sm text-green-800",children:X}),U&&t("div",{className:"mb-6 rounded-xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-800",children:U}),r("div",{className:"mb-6 p-3 sm:p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-100",children:[r("div",{className:"flex items-start justify-between gap-4 mb-3",children:[t("div",{className:"flex items-center gap-2",children:r("div",{children:[r("div",{className:"flex items-center gap-2",children:[t("h3",{className:"text-sm font-semibold text-gray-900",children:"Bulk Actions"}),t(Ee,{content:"Quickly approve or reject all pending dispatch requests at once."})]}),r("p",{className:"text-xs text-gray-600",children:[H.filter(e=>e.status==="dispatch_requested").length," pending requests available"]})]})}),t(_e,{isLoading:Z,onClick:se})]}),r("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-3",children:[t("button",{onClick:()=>ue("approved"),disabled:R||H.filter(e=>e.status==="dispatch_requested").length===0,className:"px-3 sm:px-4 py-2 rounded-lg font-medium text-white text-xs sm:text-sm transition-all duration-200 shadow-sm hover:shadow focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-1 ".concat(R||H.filter(e=>e.status==="dispatch_requested").length===0?"bg-gray-300 cursor-not-allowed":"bg-green-600 hover:bg-green-700"),children:r("span",{className:"flex items-center justify-center gap-1",children:[t("span",{children:"âœ…"}),t("span",{children:R?"Processing...":"Approve All"})]})}),t("button",{onClick:()=>ue("rejected"),disabled:R||H.filter(e=>e.status==="dispatch_requested").length===0,className:"px-3 sm:px-4 py-2 rounded-lg font-medium text-white text-xs sm:text-sm transition-all duration-200 shadow-sm hover:shadow focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-1 ".concat(R||H.filter(e=>e.status==="dispatch_requested").length===0?"bg-gray-300 cursor-not-allowed":"bg-red-600 hover:bg-red-700"),children:r("span",{className:"flex items-center justify-center gap-1",children:[t("span",{children:"â›”"}),t("span",{children:R?"Processing...":"Reject All"})]})})]})]}),t("div",{className:"space-y-4",children:H.map(e=>{var n,u,p,m,v,E,d;return t(qe,{actions:[{label:"Details",icon:"ðŸ‘ï¸",className:"border-slate-300 text-slate-600 hover:border-slate-500 hover:bg-slate-50",onClick:()=>c("/marksheets/".concat(e._id||e.marksheetId))},{label:"Reject",icon:"âŒ",className:"border-red-300 text-red-600 hover:border-red-500 hover:bg-red-50",onClick:g=>T(g,e,"rejected")},{label:"Approve",icon:"âœ…",className:"border-green-300 text-green-600 hover:border-green-500 hover:bg-green-50",onClick:g=>T(g,e,"approved")}],children:r("div",{className:"bg-white",children:[r("div",{className:"p-4 sm:p-6 pb-3 sm:pb-4",children:[r("div",{className:"flex items-start justify-between mb-3 gap-2",children:[r("div",{className:"flex-1 min-w-0",children:[t("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-1 truncate",children:(n=e.studentDetails)==null?void 0:n.name}),r("p",{className:"text-xs sm:text-sm text-gray-600 flex items-center gap-2",children:[r("span",{children:[(u=e.studentDetails)==null?void 0:u.regNumber," â€¢ ",xe(e.studentDetails)]}),((p=e.studentDetails)==null?void 0:p.department)&&t("span",{className:"inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-[10px] font-semibold uppercase ".concat(te[e.studentDetails.department]||"bg-gray-100 text-gray-800"),children:ee[(m=e.studentDetails)==null?void 0:m.department]||(((v=e.studentDetails)==null?void 0:v.department)||"").toUpperCase()})]})]}),r("span",{className:"px-2 py-1 sm:px-3 sm:py-1.5 rounded-full text-xs font-semibold uppercase tracking-wide flex items-center gap-1 whitespace-nowrap ".concat(fe[e.status]||"bg-yellow-100 text-yellow-800"),children:[t("span",{className:"text-xs sm:text-sm",children:be[e.status]||"ðŸ“„"}),t("span",{className:"text-xs",children:(e.status||"").replace(/_/g," ")})]})]}),r("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 md:gap-6 text-xs sm:text-sm",children:[r("div",{children:[t("p",{className:"text-gray-500 mb-1",children:"Staff:"}),t("p",{className:"font-medium text-gray-900 truncate",children:e.staffName||"demo staff"})]}),r("div",{children:[t("p",{className:"text-gray-500 mb-1",children:"Parent Phone:"}),t("p",{className:"font-medium text-gray-900",children:((E=e.studentDetails)==null?void 0:E.parentPhoneNumber)||"â€”"})]}),r("div",{children:[t("p",{className:"text-gray-500 mb-1",children:"Exam Date:"}),t("p",{className:"font-medium text-gray-900",children:e.examinationDate?new Date(e.examinationDate).toLocaleDateString("en-US",{month:"short",year:"numeric"}):"â€”"})]}),r("div",{children:[t("p",{className:"text-gray-500 mb-1",children:"Subjects:"}),t("p",{className:"font-medium text-gray-900",children:((d=e.subjects)==null?void 0:d.length)||0})]})]})]}),t("div",{className:"border-t border-gray-100"}),t("div",{className:"hidden sm:block p-4 sm:p-6 pt-3 sm:pt-4 bg-gray-50",children:r("div",{className:"grid grid-cols-4 gap-3",children:[t("button",{onClick:g=>T(g,e,"approved"),className:"px-4 py-2.5 bg-green-600 hover:bg-green-700 text-white text-sm font-medium rounded-lg transition-all duration-200 shadow-sm hover:shadow focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-1",children:"Approve Dispatch"}),t("button",{onClick:g=>T(g,e,"rejected"),className:"px-4 py-2.5 bg-red-600 hover:bg-red-700 text-white text-sm font-medium rounded-lg transition-all duration-200 shadow-sm hover:shadow focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-1",children:"Reject Request"}),t("button",{onClick:()=>c("/marksheets/".concat(e._id||e.marksheetId)),className:"px-4 py-2.5 bg-white hover:bg-gray-50 text-gray-700 text-sm font-medium rounded-lg border border-gray-300 transition-all duration-200 shadow-sm hover:shadow focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-1",children:"View Details"})]})}),t("div",{className:"sm:hidden p-3 bg-gradient-to-r from-blue-50 to-indigo-50 border-t border-blue-100",children:r("p",{className:"text-xs text-center text-gray-600 flex items-center justify-center gap-2",children:[t("span",{children:"ðŸ‘ˆ"}),t("span",{className:"font-medium",children:"Swipe left for actions"})]})})]})},e._id)})})]})})]})}),t(Re,{open:h.open,type:h.type,marksheet:h.marksheet,anchorRect:h.anchorRect,onClose:re,onSubmit:me,loading:oe,error:U}),t(ae,{})]})}function Re({open:f,type:x,marksheet:P,anchorRect:w,onClose:ae,onSubmit:a,loading:W,error:N}){var ee,te;const[I,G]=l.useState(""),[S,j]=l.useState(()=>typeof window<"u"?window.innerWidth<640:!0),[ie,h]=l.useState(f);if(l.useEffect(()=>{const c=()=>j(window.innerWidth<640);return window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]),l.useEffect(()=>{if(f)h(!0);else{const c=setTimeout(()=>h(!1),120);return()=>clearTimeout(c)}},[f]),l.useEffect(()=>{!f||!P||G("")},[f,x,P]),!ie||!P)return null;const J=x==="approved"?"Approve dispatch request":"Reject dispatch request",oe=c=>{c.preventDefault();const b={comments:I.trim()||void 0};try{q(!0)}catch(C){}a(b)},U=(()=>{if(typeof window>"u")return{width:"100%",maxWidth:"100%",borderRadius:"24px 24px 0 0",position:"fixed",left:0,right:0,bottom:0,margin:"0 auto"};if(["rejected","approved"].includes(x)){const k=Math.min(420,window.innerWidth-32),se=window.innerWidth,T=Math.max(16,Math.min((se-k)/2,se-k-16)),re=Math.max(window.scrollY+16,window.scrollY+80);return{width:k,position:"absolute",left:T,top:re}}if(S||!w)return{width:"100%",maxWidth:"100%",borderRadius:"24px 24px 0 0",position:"fixed",left:0,right:0,bottom:0,margin:"0 auto"};const b=16,C=420,F=window.innerWidth,de=window.innerHeight;if(x==="rejected"||x==="approved"){const y=Math.max(b,Math.min((F-C)/2,F-C-b)),k=Math.max(window.scrollY+b,window.scrollY+120);return{width:C,position:"absolute",left:y,top:k}}let L=w.left+w.width+12;L+C>F-b&&(L=w.left-C-12,L<b&&(L=Math.min(Math.max(b,w.left+w.width/2-C/2),F-C-b)));let z=w.top+w.height+12;const M=window.scrollY+de-24-380;return z>M&&(z=Math.max(window.scrollY+b,w.top-380-12)),{width:C,position:"absolute",left:L,top:z}})(),q=(c=!1)=>{c&&h(!1);try{ae()}catch(b){}},X=f?"opacity-100":"opacity-0",B=f?"":"pointer-events-none",R="glass-card w-full p-6 shadow-2xl transition-all duration-100",K=f?"translate-y-0 rounded-t-2xl":"translate-y-full rounded-t-2xl",Z=f?"translate-y-0 scale-100":"translate-y-2 scale-95",Y=["rejected","approved"].includes(x),le=S&&Y?"rounded-xl shadow-lg":"",V="".concat(R," ").concat(le," ").concat(Y?Z:S?K:Z);return t("div",{className:"fixed inset-0 z-50 flex items-start justify-center bg-black/40 px-4 py-6 sm:py-10 ".concat(X," ").concat(B),onClick:c=>{c.target===c.currentTarget&&q(!1)},style:{transition:"opacity 100ms cubic-bezier(0.2,0,0,1)"},children:r("div",{className:V,style:U,children:[r("div",{className:"mb-4",children:[t("h3",{className:"text-xl font-semibold text-gray-900",children:J}),r("p",{className:"text-sm text-gray-600 mt-1",children:[(ee=P.studentDetails)==null?void 0:ee.name," â€¢ ",(te=P.studentDetails)==null?void 0:te.regNumber]})]}),r("form",{onSubmit:oe,className:"space-y-4",children:[r("div",{children:[t("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Comments (optional)"}),t("textarea",{value:I,onChange:c=>G(c.target.value),rows:4,className:"w-full rounded-lg border border-gray-200 px-3 py-2 focus:border-blue-500 focus:outline-none",placeholder:x==="rejected"?"Let the staff know the reason for rejection":"Add any notes for the staff member"})]}),N&&t("div",{className:"rounded-lg border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-700",children:N}),r("div",{className:"flex ".concat(S?"flex-col-reverse gap-2":"justify-end gap-3"," pt-2"),children:[t("button",{type:"button",onClick:()=>q(!0),className:"px-4 py-2 rounded-lg border border-gray-200 text-gray-700 hover:bg-gray-100 ".concat(S?"w-full text-center":""),children:"Cancel"}),t("button",{type:"submit",disabled:W,className:"px-5 py-2 rounded-lg text-white ".concat(W?"bg-blue-300 cursor-wait":"bg-blue-600 hover:bg-blue-700"," ").concat(S?"w-full text-center":""),children:W?"Saving...":"Confirm"})]})]})]})})}export{He as default};
