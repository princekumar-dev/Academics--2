System.register(["./index-legacy-9eeb83db.js","./react-vendor-legacy-4587369d.js"],function(e,t){"use strict";var n,r,o;return{setters:[e=>{n=e.j,r=e.b},e=>{o=e.r}],execute:function(){e({P:function({pullDistance:e,threshold:t,isRefreshing:o}){const s=Math.min(e/t,1),c=e/t*360;return n("div",{className:"fixed top-0 left-0 right-0 z-50 flex items-center justify-center transition-all duration-200 md:hidden",style:{height:`${e}px`,opacity:s,pointerEvents:"none"},children:n("div",{className:"bg-white/90 backdrop-blur-sm rounded-full p-3 shadow-lg",children:o?r("svg",{className:"w-6 h-6 text-theme-gold animate-spin",fill:"none",viewBox:"0 0 24 24",children:[n("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):n("svg",{className:"w-6 h-6 text-theme-gold transition-transform duration-200",style:{transform:`rotate(${c}deg)`},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})})})},u:function(e,t={}){const{threshold:n=80,enabled:r=!0}=t,[s,c]=o.useState(!1),[i,l]=o.useState(!1),[a,u]=o.useState(0),[d,h]=o.useState(0),m=o.useRef(null);return o.useEffect(()=>{if(!r||!m.current)return;const t=m.current;let o=0,s=0,d=!1,f=!1;const v=e=>{(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop)<=3&&!i&&(o=e.touches[0].clientY,s=e.touches[0].clientX,d=!1,f=!1,h(o))},p=e=>{if(i)return;const t=e.touches[0].clientY,r=e.touches[0].clientX,l=t-o,a=Math.abs(r-s);if((window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop)<=3&&l>0&&l>2*a){d=!0;const t=Math.min(40,Math.floor(n/2));if(f=l>t,f&&e.cancelable)try{e.preventDefault()}catch(h){}c(!0);const r=.35,o=Math.min(l*r,1.5*n);u(o)}else d&&(c(!1),u(0),d=!1)},g=async()=>{if(!d||i)return c(!1),u(0),d=!1,void(f=!1);if(c(!1),d=!1,f=!1,a>=n){l(!0),u(n);try{await e()}catch(t){console.error("Pull-to-refresh error:",t)}finally{l(!1),u(0)}}else u(0)};return t.addEventListener("touchstart",v,{passive:!0}),t.addEventListener("touchmove",p,{passive:!1}),t.addEventListener("touchend",g,{passive:!0}),t.addEventListener("touchcancel",g,{passive:!0}),()=>{t.removeEventListener("touchstart",v),t.removeEventListener("touchmove",p),t.removeEventListener("touchend",g),t.removeEventListener("touchcancel",g)}},[r,s,i,a,n,e]),{isPulling:s,isRefreshing:i,pullDistance:a,containerRef:m,threshold:n}}})}}});
